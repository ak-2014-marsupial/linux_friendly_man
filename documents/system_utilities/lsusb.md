Команда `lsusb` (list USB) використовується для виведення інформації про USB-шини в системі та пристрої, підключені до них. USB (Universal Serial Bus) — це стандартний інтерфейс для підключення периферійних пристроїв, таких як миші, клавіатури, принтери, флеш-накопичувачі та багато іншого. `lsusb` є важливим інструментом для діагностики USB-пристроїв.

#### **Базовий синтаксис**

```bash
lsusb [опції]
```

---

### **Основні опції та їх комбінації**

| Опція/Комбінація | Пояснення |
| :--- | :--- |
| **`lsusb`** | Показати базовий список усіх USB-пристроїв. |
| **`-v`** | Показати детальний (verbose) вивід для кожного пристрою, включаючи дескриптори пристрою. |
| **`-t`** | Відобразити пристрої у вигляді дерева, що показує їх ієрархію та швидкість підключення. |
| **`-s [[<bus>]:][<devnum>]`** | Показати інформацію тільки про пристрій на вказаній шині та з вказаним номером. |
| **`-d <vendor>:<product>`** | Показати пристрої лише з указаним ID виробника та/або продукту. |
| **`-D /dev/bus/usb/<bus>/<devnum>`** | Вивести детальну інформацію про конкретний пристрій, не скануючи всі інші. |

---

### **Розшифровка виводу `lsusb`**

Приклад базового виводу:
```
Bus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
Bus 001 Device 005: ID 8087:0a2a Intel Corp.
Bus 001 Device 004: ID 046d:c52b Logitech, Inc. Unifying Receiver
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
```

*   **`Bus 002`**: Номер USB-шини (хост-контролера).
*   **`Device 001`**: Номер пристрою на цій шині.
*   **`ID 1d6b:0003`**: ID виробника (`1d6b`) та ID продукту (`0003`). Ці коди унікальні.
*   **`Linux Foundation 3.0 root hub`**: Назва виробника та пристрою.

Приклад виводу з опцією `-t` (дерево):
```
/:  Bus 02.Port 1: Dev 1, Class=root_hub, Driver=xhci_hcd/6p, 5000M
/:  Bus 01.Port 1: Dev 1, Class=root_hub, Driver=xhci_hcd/12p, 480M
    |__ Port 5: Dev 4, If 0, Class=Human Interface Device, Driver=usbhid, 12M
    |__ Port 6: Dev 5, If 0, Class=Wireless, Driver=btusb, 12M
    |__ Port 6: Dev 5, If 1, Class=Wireless, Driver=btusb, 12M
```
*   **`5000M`**: Швидкість підключення (5000 Mbit/s, тобто USB 3.0).
*   **`480M`**: Швидкість підключення (480 Mbit/s, тобто USB 2.0).
*   **`12M`**: Швидкість підключення (12 Mbit/s, тобто USB 1.1).
*   **`Driver=...`**: Драйвер ядра, що використовується для пристрою.

---

### **Приклади використання**

1.  **Показати всі USB-пристрої:**
    ```bash
    lsusb
    ```

2.  **Показати детальну інформацію про всі пристрої:**
    Це виведе багато інформації, корисної для глибокої діагностики.
    ```bash
    lsusb -v
    ```

3.  **Показати USB-пристрої у вигляді дерева:**
    Дуже корисно для того, щоб побачити, до якого хабу та з якою швидкістю підключений пристрій.
    ```bash
    lsusb -t
    ```

4.  **Знайти конкретний пристрій (наприклад, веб-камеру):**
    ```bash
    lsusb | grep -i camera
    ```

5.  **Показати детальну інформацію про конкретний пристрій:**
    Спочатку знайдіть ID пристрою (наприклад, `046d:c52b` для приймача Logitech).
    ```bash
    lsusb -d 046d:c52b -v
    ```

6.  **Відстеження підключення/відключення пристроїв у реальному часі:**
    Команда `watch` дозволяє періодично виконувати `lsusb`.
    ```bash
    watch lsusb
    ```
    *Це допоможе побачити, чи система взагалі розпізнає пристрій при його підключенні.*

---

### **Продвинуті приклади**

1.  **Вивести шлях до пристрою в `/dev`:**
    Використовуючи опцію `-t`, ви можете побачити номери шини та пристрою, а потім знайти відповідний файл пристрою.
    ```bash
    lsusb -t
    ```
    Якщо ви бачите `Bus 01, Port 5, Dev 4`, то шлях до нього буде `/dev/bus/usb/001/004`.

2.  **Отримати детальну інформацію про пристрій, використовуючи його шлях:**
    ```bash
    sudo lsusb -D /dev/bus/usb/001/004
    ```
    *Використання `sudo` може надати більше деталей.*

3.  **Скрипт для отримання назви та швидкості всіх підключених пристроїв:**
    ```bash
    lsusb -t | awk '/Port/ {print $2, $3, $NF}'
    ```
