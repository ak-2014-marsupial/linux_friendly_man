# watch

Команда `watch` (від англ. "спостерігати") використовується для періодичного виконання вказаної команди та відображення її виводу на весь екран. Це дозволяє спостерігати за змінами у виводі команди в реальному часі.

#### **Базовий синтаксис**

```bash
watch [опції] "команда"
```
Важливо брати команду в лапки, особливо якщо вона містить пробіли або спеціальні символи.

---

### **Основні опції**

| Ключ | Повна назва | Опис |
| :--- | :--- | :--- |
| `-n <секунди>` | `--interval <секунди>` | Встановлює інтервал оновлення. За замовчуванням — 2 секунди. |
| `-d` | `--differences` | Підсвічує зміни між послідовними оновленнями. |
| `-t` | `--no-title` | Прибирає заголовок, що показує команду, інтервал та поточний час. |
| `-b` | `--beep` | Подає звуковий сигнал, якщо команда завершується з ненульовим кодом виходу (помилкою). |
| `-e` | `--errexit` | Зупиняє виконання, якщо команда завершується з помилкою, і показує вивід. |
| `-c` | `--color` | Дозволяє `watch` інтерпретувати ANSI-коди кольорів, що корисно для команд, які використовують кольоровий вивід (наприклад, `ls --color=auto`). |
| `-h` | `--help` | Показує довідкову інформацію. |

---

### **Приклади використання**

1.  **Спостерігати за вмістом поточної директорії:**
    Кожні 2 секунди буде виконуватися `ls -l`, і ви будете бачити зміни (нові файли, зміна розміру тощо).
    ```bash
    watch "ls -l"
    ```

2.  **Моніторити використання оперативної пам'яті з інтервалом 5 секунд:**
    ```bash
    watch -n 5 "free -m"
    ```

3.  **Підсвічувати зміни у списку файлів:**
    Опція `-d` дуже корисна, щоб миттєво бачити, що саме змінилося.
    ```bash
    watch -d "ls -l"
    ```

4.  **Слідкувати за останніми 10 рядками лог-файлу:**
    ```bash
    watch "tail -n 10 /var/log/syslog"
    ```

5.  **Спостерігати за активними мережевими з'єднаннями:**
    ```bash
    watch "netstat -an | grep ESTABLISHED"
    ```

6.  **Моніторити кількість файлів у директорії:**
    Це може бути корисно, наприклад, для відстеження черги файлів для обробки.
    ```bash
    watch "ls -1 /path/to/directory | wc -l"
    ```
    *Ця команда покаже кількість файлів у вказаній директорії та буде оновлювати її.*

7.  **Використання з кольоровим виводом:**
    Щоб зберегти кольори команди `ls`:
    ```bash
    watch -c "ls -l --color=always"
    ```

---

### **Як це працює?**

`watch` очищує екран перед кожним виконанням команди, що створює ефект "оновлення на місці". Це робить її ідеальним інструментом для моніторингу стану системи, виконання тривалих завдань або просто для спостереження за змінами в реальному часі без необхідності вручну повторювати команду.
