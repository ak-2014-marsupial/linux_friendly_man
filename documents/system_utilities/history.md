Команда `history` показує список раніше виконаних команд у поточному сеансі термінала. Це надзвичайно корисний інструмент для повторення складних команд, аналізу своїх дій або просто для того, щоб згадати, що ви робили.

Історія команд зберігається у файлі `~/.bash_history` (для оболонки Bash) або `~/.zsh_history` (для Zsh).

#### **Базовий синтаксис**

```bash
history [опції]
```

--- 

### **Основні опції та використання**

| Команда/Опція | Пояснення |
| :--- | :--- |
| **`history`** | Показати весь список команд з номерами. |
| **`history N`** | Показати останні `N` команд. |
| **`!N`** | Виконати команду з номером `N` зі списку історії. |
| **`!!`** | Виконати попередню команду. Дуже корисно, коли забули додати `sudo`. |
| **`!string`** | Виконати останню команду, що починається з `string`. |
| **`!?string?`** | Виконати останню команду, що містить `string`. |
| **`Ctrl + R`** | **Реверсивний пошук.** Почати вводити частину команди, і система покаже останні відповідники. Натискайте `Ctrl + R` повторно для перебору. |
| **`-c`** | Очистити поточну історію сеансу. |
| **`-d N`** | Видалити команду з номером `N` з історії. |

--- 

### **Приклади використання**

1.  **Показати всю історію:**
    ```bash
    history
    ```

2.  **Показати останні 10 команд:**
    ```bash
    history 10
    ```

3.  **Повторити команду №501:**
    ```bash
    !501
    ```

4.  **Повторити попередню команду з `sudo`:**
    Часто буває, що ви виконуєте команду, а система каже `Permission denied`.
    ```bash
    apt install nginx
    # Помилка

    sudo !!
    # Виконається: sudo apt install nginx
    ```

5.  **Знайти та виконати команду:**
    Виконати останню команду, що починалася з `ssh`.
    ```bash
    !ssh
    ```

6.  **Пошук в історії за допомогою `grep`:**
    Це потужний спосіб знайти команду, якщо ви пам'ятаєте її частину.
    ```bash
    history | grep 'docker-compose'
    ```

7.  **Реверсивний пошук (найзручніший спосіб):**
    *   Натисніть `Ctrl + R`.
    *   Почніть вводити текст, наприклад, `dnf`.
    *   Термінал покаже останню команду, що містить `dnf`. Натискайте `Ctrl + R` ще раз, щоб переглядати старіші відповідники.
    *   Коли знайдете потрібну команду, натисніть `Enter` для її виконання або стрілку вправо/вліво для редагування.

### **Налаштування історії**

Ви можете налаштувати поведінку історії у файлі `~/.bashrc` (для Bash).

*   **`HISTSIZE`**: Кількість команд, що зберігаються в пам'яті поточного сеансу.
*   **`HISTFILESIZE`**: Максимальна кількість команд, що зберігаються у файлі `~/.bash_history`.
*   **`HISTCONTROL`**: Керує тим, що зберігається. 
    *   `ignorespace`: не зберігати команди, що починаються з пробілу.
    *   `ignoredups`: не зберігати дублікати.
    *   `ignoreboth`: `ignorespace` та `ignoredups` разом.

*Приклад налаштування в `~/.bashrc`:*
```bash
export HISTCONTROL=ignoreboth
export HISTSIZE=10000
export HISTFILESIZE=20000
```
