Команда `lspci` (list PCI) використовується для виведення інформації про всі PCI-шини в системі та всі пристрої, підключені до них. PCI (Peripheral Component Interconnect) — це локальна комп'ютерна шина для підключення периферійних пристроїв до материнської плати, таких як відеокарти, мережеві адаптери та NVMe-накопичувачі. Це важливий інструмент для діагностики апаратного забезпечення та перевірки, які драйвери використовуються для конкретних пристроїв.

#### **Базовий синтаксис**

```bash
lspci [опції]
```

---

### **Основні опції та їх комбінації**

| Опція/Комбінація | Пояснення |
| :--- | :--- |
| **`lspci`** | Показати базовий список усіх PCI-пристроїв. |
| **`-v`** | Показати детальний (verbose) вивід для кожного пристрою, включаючи інформацію про його можливості. |
| **`-vv`** | Показати ще більш детальний вивід. Корисно для глибокої діагностики. |
| **`-k`** | Показати, який драйвер ядра (kernel driver) керує кожним пристроєм. Дуже корисно для перевірки сумісності. |
| **`-t`** | Відобразити пристрої у вигляді дерева, що показує їх ієрархію підключення до шин. |
| **`-nn`** | Показати коди виробника (vendor) та пристрою (device) у числовому форматі разом з їхніми іменами. Наприклад, `10de:1f08 (NVIDIA Corporation TU106 [GeForce RTX 2060 SUPER])`. |
| **`-s [[[[<domain>]:]<bus>]:][<slot>][.[<func>]]`** | Показати інформацію тільки про пристрій за вказаною адресою (домен, шина, слот, функція). |
| **`-d [<vendor>]:[<device>]`** | Показати пристрої лише з указаним ID виробника та/або пристрою. |

---

### **Розшифровка виводу `lspci`**

Приклад базового виводу:
```
00:00.0 Host bridge: Intel Corporation 8th Gen Core Processor Host Bridge/DRAM Registers (rev 07)
00:02.0 VGA compatible controller: Intel Corporation UHD Graphics 630 (Desktop)
01:00.0 VGA compatible controller: NVIDIA Corporation TU106 [GeForce RTX 2060 SUPER] (rev a1)
02:00.0 Non-Volatile memory controller: Samsung Electronics Co Ltd NVMe SSD Controller SM981/PM981/PM983
```

*   **`00:00.0`**: Адреса пристрою на шині PCI (`<bus>:<slot>.<function>`).
*   **`Host bridge`**: Тип пристрою (у цьому випадку, міст хоста).
*   **`Intel Corporation...`**: Виробник та модель пристрою.
*   **`(rev 07)`**: Ревізія апаратного забезпечення.

Приклад виводу з опцією `-k`:
```
01:00.0 VGA compatible controller: NVIDIA Corporation TU106 [GeForce RTX 2060 SUPER] (rev a1)
        Subsystem: NVIDIA Corporation TU106 [GeForce RTX 2060 SUPER]
        Kernel driver in use: nvidia
        Kernel modules: nvidiafb, nouveau, nvidia_drm, nvidia
```
*   **`Kernel driver in use`**: Показує, який драйвер ядра зараз активний для цього пристрою.
*   **`Kernel modules`**: Перелічує всі модулі ядра, які можуть працювати з цим пристроєм.

---

### **Приклади використання**

1.  **Показати всі PCI-пристрої:**
    ```bash
    lspci
    ```

2.  **Показати детальну інформацію про всі пристрої:**
    ```bash
    lspci -v
    ```

3.  **Дізнатися, який драйвер використовує ваша відеокарта:**
    Спочатку знайдіть відеокарту, відфільтрувавши вивід за словом "VGA".
    ```bash
    lspci | grep VGA
    ```
    Потім використайте адресу пристрою (наприклад, `01:00.0`) з опцією `-s` та `-k`.
    ```bash
    lspci -s 01:00.0 -k
    ```

4.  **Показати пристрої у вигляді дерева:**
    Це допомагає зрозуміти, як пристрої підключені один до одного.
    ```bash
    lspci -t
    ```

5.  **Знайти всі пристрої від конкретного виробника (наприклад, Intel):**
    ```bash
    lspci | grep Intel
    ```

6.  **Показати числові ID для всіх пристроїв:**
    Це корисно для пошуку інформації про пристрій в інтернеті, якщо його назва не розпізнається.
    ```bash
    lspci -nn
    ```

---

### **Продвинуті приклади**

1.  **Знайти мережевий контролер і драйвер, який він використовує:**
    ```bash
    lspci -k | grep -A 3 -i "network"
    ```
    *   `-A 3` у `grep` покаже 3 рядки після знайденого збігу, що зазвичай включає інформацію про драйвер.

2.  **Вивести інформацію про USB-контролери:**
    ```bash
    lspci -k | grep -i "usb"
    ```

3.  **Пошук пристрою за його ID:**
    Якщо ви знаєте ID виробника (`10de` для NVIDIA) та пристрою (`1f08`), ви можете знайти його так:
    ```bash
    lspci -d 10de:1f08 -k
    ```
