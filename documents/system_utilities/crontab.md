Утиліта `crontab` (cron table) — це стандартний планувальник завдань у Linux, який дозволяє автоматично виконувати команди або скрипти у визначений час.

Демон `cron`, що працює у фоні, щохвилини перевіряє файли `crontab` і запускає завдання, час яких настав.

#### **Базовий синтаксис**

```bash
crontab [опції] [файл]
```

--- 

### **Основні опції**

| Опція | Пояснення |
| :--- | :--- |
| **`-e`** | **Редагувати** поточний файл `crontab` для користувача. Це найчастіша команда. |
| **`-l`** | **Показати** вміст поточного файлу `crontab`. |
| **`-r`** | **Видалити** поточний файл `crontab`. **Увага: команда не питає підтвердження!** |

--- 

### **Формат запису завдання**

Кожен рядок у файлі `crontab` — це окреме завдання, яке має такий формат:

```
# ┌───────────── хвилина (0 - 59)
# │ ┌───────────── година (0 - 23)
# │ │ ┌───────────── день місяця (1 - 31)
# │ │ │ ┌───────────── місяць (1 - 12)
# │ │ │ │ ┌───────────── день тижня (0 - 6) (Неділя=0 або 7)
# │ │ │ │ │
# │ │ │ │ │
# * * * * *  /шлях/до/команди або скрипта
```

**Спеціальні символи:**
*   **`*`**: Будь-яке значення (наприклад, `*` у полі годин означає "щогодини").
*   **`,`**: Перелічення значень (наприклад, `1,15` у полі дня місяця означає "1-го та 15-го числа").
*   **`-`**: Діапазон значень (наприклад, `9-17` у полі годин означає "з 9 до 17 включно").
*   **`/`**: Крок (наприклад, `*/15` у полі хвилин означає "кожні 15 хвилин").

--- 

### **Приклади завдань**

1.  **Запускати скрипт кожні 5 хвилин:**
    ```crontab
    */5 * * * * /home/user/scripts/check_updates.sh
    ```

2.  **Робити резервну копію щодня о 3:30 ночі:**
    ```crontab
    30 3 * * * /home/user/scripts/backup.sh
    ```

3.  **Запускати команду щопонеділка о 9:00 ранку:**
    ```crontab
    0 9 * * 1 /usr/bin/python3 /home/user/scripts/send_report.py
    ```

4.  **Запускати скрипт 1-го числа кожного місяця о півночі:**
    ```crontab
    0 0 1 * * /home/user/scripts/monthly_cleanup.sh
    ```

5.  **Запускати команду в робочі години (з 9 до 18) у будні дні (з понеділка по п'ятницю):**
    ```crontab
    * 9-18 * * 1-5 /home/user/scripts/monitor_activity.sh
    ```

### **Як редагувати `crontab`**

1.  Відкрийте редактор:
    ```bash
    crontab -e
    ```
    *При першому запуску система може запропонувати вибрати текстовий редактор (наприклад, `nano`).*

2.  Додайте новий рядок із вашим завданням.

3.  Збережіть файл та вийдіть з редактора. `cron` автоматично застосує зміни.

### **Важливі зауваження**

*   **Шляхи до команд:** Завжди використовуйте повні шляхи до виконуваних файлів (наприклад, `/usr/bin/python3`), оскільки `cron` може не мати такого ж `PATH`, як ваш інтерактивний термінал.
*   **Перенаправлення виводу:** За замовчуванням `cron` надсилає будь-який вивід команди на системну пошту користувача. Щоб уникнути цього, перенаправляйте вивід:
    ```crontab
    # Перенаправити стандартний вивід і помилки у файл логу
    * * * * * /path/to/command > /home/user/cron.log 2>&1

    # Якщо вивід не потрібен
    * * * * * /path/to/command > /dev/null 2>&1
    ```
*   **Системний `crontab`:** Окрім користувацьких `crontab`, існує системний файл `/etc/crontab` та директорії `/etc/cron.d/`, `/etc/cron.hourly/` тощо. Вони використовуються для системних завдань.
