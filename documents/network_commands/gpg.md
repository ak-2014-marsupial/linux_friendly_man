# gpg

Утиліта `gpg` (GNU Privacy Guard) — це інструмент для асиметричного шифрування та створення цифрових підписів. Вона є вільною реалізацією стандарту OpenPGP і дозволяє надійно захищати дані та перевіряти їх автентичність.

#### **Базовий синтаксис**

```bash
gpg [опції] [команда] [аргументи]
```

*   **`[опції]`**: Глобальні параметри, що змінюють поведінку `gpg` (наприклад, `--armor`).
*   **`[команда]`**: Основна дія (наприклад, `--gen-key`, `--encrypt`, `--sign`).
*   **`[аргументи]`**: Файли або ідентифікатори ключів.

---

### **Основні команди `gpg`**

| Команда | Пояснення |
| :--- | :--- |
| **`--gen-key`** | Запустити інтерактивний процес створення нової пари ключів (публічного та приватного). |
| **`--list-keys`** | Показати список публічних ключів у вашій "зв'язці" (keyring). |
| **`--list-secret-keys`** | Показати список ваших приватних ключів. |
| **`--encrypt` (`-e`)** | Зашифрувати файл для одного або кількох одержувачів. |
| **`--decrypt` (`-d`)** | Розшифрувати файл. Потрібен відповідний приватний ключ і пароль до нього. |
| **`--sign` (`-s`)** | Створити цифровий підпис для файлу, використовуючи ваш приватний ключ. |
| **`--clearsign`** | Створити текстовий підпис, залишаючи вихідний текст читабельним. |
| **`--verify`** | Перевірити автентичність файлу за його підписом. |
| **`--import`** | Імпортувати публічний ключ (зазвичай з файлу) у свою зв'язку. |
| **`--export`** | Експортувати публічний ключ у файл, щоб поділитися ним з іншими. |
| **`--armor` (`-a`)** | Створювати вивід у текстовому форматі (ASCII-armored), а не у бінарному. |

---
### **Приклади використання**

#### 1. Створення нової пари ключів
Ця команда запустить майстер, який допоможе вам створити ключі. Рекомендується вибирати `RSA and RSA` та довжину ключа 4096 біт.

```bash
gpg --gen-key
```
*Вам потрібно буде вказати ім'я, email, а також придумати надійний пароль для захисту вашого приватного ключа.*

#### 2. Перегляд наявних ключів
```bash
# Показати публічні ключі
gpg --list-keys

# Показати приватні ключі
gpg --list-secret-keys
```

#### 3. Експорт публічного ключа
Щоб хтось міг надсилати вам зашифровані повідомлення, ви повинні надати йому свій публічний ключ.

```bash
gpg --export -a "Your Name" > public_key.asc
```
*   **`"Your Name"`**: Ім'я або email, вказані при генерації ключа.
*   **`-a` (`--armor`)**: Створює текстовий файл `.asc`, який легко передавати.
*   `public_key.asc` — файл, який можна надсилати іншим.

#### 4. Імпорт публічного ключа
Отримавши чийсь публічний ключ, імпортуйте його.

```bash
gpg --import friend_public_key.asc
```

#### 5. Шифрування файлу
Зашифрувати документ для одного одержувача.

```bash
gpg --encrypt --recipient "Friend's Name" document.txt
```
*   **`--recipient`**: Вказує, для кого призначений файл (потрібно мати його публічний ключ).
*   Буде створено файл `document.txt.gpg`.

#### 6. Дешифрування файлу
Розшифрувати отриманий файл.

```bash
gpg --decrypt secret_document.gpg > plain_document.txt
```
*   `gpg` запитає пароль від вашого приватного ключа.
*   Результат буде виведено в консоль, тому його краще перенаправити у файл (`> plain_document.txt`).

#### 7. Створення цифрового підпису
Підпис підтверджує, що файл надіслали саме ви і його не було змінено.

```bash
gpg --sign important_contract.pdf
```
*   Буде створено стиснений файл `important_contract.pdf.gpg`, що містить і вихідний файл, і підпис.

#### 8. Створення підпису в окремому файлі (detached signature)
Це створює невеликий файл підпису `.sig`, не змінюючи вихідний файл.

```bash
gpg --detach-sign archive.zip
```
*   Буде створено файл `archive.zip.sig`. Для перевірки потрібні обидва файли: `archive.zip` та `archive.zip.sig`.

#### 9. Перевірка підпису
```bash
gpg --verify document.sig document.txt
```
*   Якщо підпис правильний і ключ довірений, `gpg` повідомить про це.

#### 10. Симетричне шифрування (лише паролем)
Якщо не потрібно використовувати пари ключів, можна зашифрувати файл простим паролем.

```bash
gpg -c my_secret_file.txt
```
*   `gpg` двічі запитає пароль.
*   Для розшифровки використовується `gpg --decrypt` або просто `gpg my_secret_file.txt.gpg`.