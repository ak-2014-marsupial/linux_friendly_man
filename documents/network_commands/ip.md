Команда `ip` — це сучасний та потужний інструмент для керування мережевими інтерфейсами, IP-адресами, таблицями маршрутизації та іншими мережевими налаштуваннями в Linux. Вона є частиною пакету `iproute2` і замінює собою застарілі утиліти, такі як `ifconfig`, `route` та `netstat`.

Хоча `ifconfig` все ще можна зустріти в старих системах, **настійно рекомендується використовувати `ip`**.

#### **Базовий синтаксис**

```bash
ip [опції] ОБ'ЄКТ КОМАНДА
```

*   **`ОБ'ЄКТ`**: Тип об'єкта, яким ми керуємо (`address`, `link`, `route` тощо).
*   **`КОМАНДА`**: Дія, яку потрібно виконати (`show`, `add`, `del`).

--- 

### **Основні об'єкти та команди**

#### **1. `ip address` (або `ip a`, `ip addr`) — Керування IP-адресами**

*   **Показати IP-адреси всіх інтерфейсів:**
    ```bash
    ip a
    ```
    *Це найчастіша команда, аналог `ifconfig`.*

*   **Показати інформацію про конкретний інтерфейс:**
    ```bash
    ip a show eth0
    ```

*   **Додати IP-адресу до інтерфейсу:**
    ```bash
    sudo ip addr add 192.168.1.100/24 dev eth0
    ```

*   **Видалити IP-адресу з інтерфейсу:**
    ```bash
    sudo ip addr del 192.168.1.100/24 dev eth0
    ```

#### **2. `ip link` — Керування мережевими інтерфейсами**

*   **Показати стан усіх інтерфейсів:**
    ```bash
    ip link show
    ```

*   **Увімкнути інтерфейс:**
    ```bash
    sudo ip link set eth0 up
    ```

*   **Вимкнути інтерфейс:**
    ```bash
    sudo ip link set eth0 down
    ```

*   **Змінити MAC-адресу:**
    ```bash
    sudo ip link set dev eth0 address 00:11:22:33:44:55
    ```

#### **3. `ip route` — Керування таблицею маршрутизації**

*   **Показати таблицю маршрутизації:**
    ```bash
    ip route show
    ```
    *Аналог команди `route -n`.*

*   **Додати маршрут за замовчуванням (default gateway):**
    ```bash
    sudo ip route add default via 192.168.1.1
    ```

*   **Додати статичний маршрут до певної мережі:**
    ```bash
    sudo ip route add 10.0.0.0/8 via 192.168.1.254
    ```

*   **Видалити маршрут:**
    ```bash
    sudo ip route del 10.0.0.0/8
    ```

--- 

### **Порівняння `ip` та `ifconfig`**

| Завдання | Нова команда (`ip`) | Стара команда (`ifconfig`) |
| :--- | :--- | :--- |
| **Показати всі адреси** | `ip a` | `ifconfig -a` |
| **Увімкнути інтерфейс** | `sudo ip link set eth0 up` | `sudo ifconfig eth0 up` |
| **Вимкнути інтерфейс** | `sudo ip link set eth0 down` | `sudo ifconfig eth0 down` |
| **Додати IP-адресу** | `sudo ip addr add 192.168.1.100/24 dev eth0` | `sudo ifconfig eth0 192.168.1.100 netmask 255.255.255.0` |

`ip` є набагато гнучкішою та потужнішою, наприклад, дозволяє додавати кілька IP-адрес до одного інтерфейсу, що було складно реалізувати з `ifconfig`.
