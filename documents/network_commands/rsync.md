`rsync` (remote sync) — це потужна та універсальна утиліта для синхронізації файлів та директорій між двома локаціями. Цими локаціями можуть бути як різні директорії на одному комп'ютері, так і директорії на різних комп'ютерах, з'єднаних мережею.

Головна перевага `rsync` — це використання **алгоритму дельта-копіювання**, що дозволяє передавати лише змінені частини файлів, а не файли цілком. Це робить `rsync` надзвичайно швидким та ефективним для резервного копіювання та синхронізації даних.

#### **Базовий синтаксис**

```bash
rsync [ключі] [джерело] [призначення]
```

*   **`[джерело]`**: Файл або директорія, яку потрібно скопіювати.
*   **`[призначення]`**: Місце, куди потрібно скопіювати.

**Важливий нюанс зі слешем (`/`) у шляху до джерела:**
*   `rsync -a /path/to/source /dest` — скопіює саму директорію `source` всередину `/dest`. Результат: `/dest/source`.
*   `rsync -a /path/to/source/ /dest` — скопіює **вміст** директорії `source` всередину `/dest`. Результат: `/dest/file1`, `/dest/file2`...

---

### **Основні ключі**

*   **`-a, --archive`** (архівний режим)
    Це найпопулярніший ключ, який є комбінацією кількох інших ключів (`-rlptgoD`). Він вмикає рекурсію, зберігає символічні посилання, права доступу, час модифікації, власника та групу.

*   **`-v, --verbose`**
    Детальний режим. Показує, які файли копіюються в даний момент.

*   **`-h, --human-readable`**
    Виводити розміри файлів у зручному для читання форматі (KB, MB, GB).

*   **`-z, --compress`**
    Стискати дані під час передачі. Це зменшує навантаження на мережу, але трохи збільшує навантаження на процесор.

*   **`--progress`**
    Показувати прогрес копіювання для кожного файлу. Корисно при передачі великих файлів.

*   **`--delete`**
    Видаляти файли у директорії призначення, якщо їх немає у директорії-джерелі. Це створює точну дзеркальну копію.

*   **`--exclude="шаблон"`**
    Виключити файли, що відповідають шаблону. (наприклад, `--exclude="*.log"`).

*   **`--dry-run`** або **`-n`**
    "Сухий запуск". `rsync` покаже, що він *збирався* б зробити, але не виконає жодних реальних дій. Дуже корисно для тестування складних команд, особливо з ключем `--delete`.

---

### **Приклади використання**

1.  **Синхронізація двох локальних директорій:**
    ```bash
    # Ключ -a вмикає рекурсію та зберігає атрибути
    # Ключ -v показує процес
    rsync -av /home/user/documents/ /home/user/backup/documents/
    ```

2.  **Копіювання файлів на віддалений сервер (Push):**
    ```bash
    # Використовує SSH як транспорт
    rsync -avz /path/to/local/data user@remote_host:/path/to/remote/backup/
    ```
    *Ключ `-z` рекомендований для передачі даних по мережі.*

3.  **Копіювання файлів з віддаленого сервера (Pull):**
    ```bash
    rsync -avz user@remote_host:/path/to/remote/data/ /path/to/local/storage/
    ```

4.  **Створення дзеркальної копії з видаленням зайвих файлів:**
    ```bash
    # УВАГА: --delete видалить файли в директорії призначення!
    rsync -av --delete /source/directory/ /destination/directory/
    ```

5.  **Тестування команди перед виконанням (`--dry-run`):**
    ```bash
    rsync -avn --delete /source/ /destination/
    ```
    *Ключ `-n` є скороченням для `--dry-run`.*

6.  **Синхронізація з показом прогресу та виключенням лог-файлів:**
    ```bash
    rsync -avz --progress --exclude="*.log" /my/project/ user@server:/backup/project/
    ```

7.  **Використання `rsync` з нестандартним портом SSH:**
    ```bash
    rsync -avz -e "ssh -p 2222" /local/path/ user@host:/remote/path/
    ```

8.  **Обмеження швидкості передачі (наприклад, до 1 МБ/с), щоб не забивати канал:**
    ```bash
    rsync -avz --bwlimit=1024 /large/directory/ user@server:/backup/
    ```
