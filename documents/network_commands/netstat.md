Команда `ss` (socket statistics) — це сучасна утиліта для перегляду мережевих з'єднань, сокетів та статистики. Вона є частиною пакету `iproute2` (так само як і команда `ip`) і прийшла на заміну застарілій команді `netstat`.

`ss` працює значно швидше за `netstat`, оскільки отримує інформацію безпосередньо з ядра системи, тоді як `netstat` читав та обробляв файли з віртуальної файлової системи `/proc`.

#### **Базовий синтаксис**

```bash
ss [опції] [фільтр]
```

--- 

### **Основні опції**

| Опція | Пояснення |
| :--- | :--- |
| **`-t`** | Показати тільки TCP-з'єднання. |
| **`-u`** | Показати тільки UDP-з'єднання. |
| **`-l`** | Показати тільки слухаючі (listening) сокети, тобто порти, на яких сервіси очікують на підключення. |
| **`-p`** | Показати процеси, які використовують сокет. (Потребує прав `sudo`). |
| **`-n`** | Не перетворювати IP-адреси та номери портів у доменні імена та назви сервісів. Це значно прискорює вивід. |
| **`-a`** | Показати всі сокети (і слухаючі, і встановлені). |
| **`-e`** | Показати розширену інформацію про сокет. |

**Найпопулярніші комбінації:**
*   **`ss -tulpn`**: Показати всі **t**cp та **u**dp порти, які **l**ише прослуховуються, з **p**роцесами, що їх використовують, без перетворення **n**а імена.
*   **`ss -tan`**: Показати **a**ll (всі) **t**cp з'єднання, **n**е перетворюючи імена.

--- 

### **Приклади використання**

1.  **Показати всі активні TCP-з'єднання:**
    ```bash
    ss -t -a
    ```

2.  **Показати всі порти, що прослуховуються:**
    Це одна з найважливіших команд для перевірки, які сервіси запущені на сервері.
    ```bash
    ss -l
    ```

3.  **Показати слухаючі TCP-порти з іменами процесів (класичний випадок):**
    ```bash
    sudo ss -ltp
    ```

4.  **Показати всі слухаючі порти без перетворення імен (швидкий варіант):**
    ```bash
    sudo ss -lntu
    ```
    * `-l` (listening), `-n` (numeric), `-t` (tcp), `-u` (udp)*

5.  **Знайти, який процес використовує порт 80:**
    ```bash
    sudo ss -ltp | grep :80
    ```

6.  **Фільтрація за станом з'єднання:**
    Показати всі TCP-з'єднання, які знаходяться у стані `ESTABLISHED` (встановлено).
    ```bash
    ss -t state established
    ```

7.  **Фільтрація за IP-адресою або портом:**
    Показати всі з'єднання до хоста `192.168.1.100`.
    ```bash
    ss -tan dst 192.168.1.100
    ```
    Показати всі з'єднання, пов'язані з портом 22 (SSH).
    ```bash
    ss -tan dport = :22 or sport = :22
    ```

### **Порівняння `ss` та `netstat`**

| Завдання | Нова команда (`ss`) | Стара команда (`netstat`) |
| :--- | :--- | :--- |
| **Показати всі слухаючі TCP/UDP порти з процесами** | `sudo ss -tulpn` | `sudo netstat -tulpn` |
| **Показати всі TCP з'єднання** | `ss -tan` | `netstat -ant` |
| **Показати таблицю маршрутизації** | `ip route` | `netstat -r` |

Як видно, опції дуже схожі, але `ss` працює значно швидше, особливо на системах з великою кількістю з'єднань.
