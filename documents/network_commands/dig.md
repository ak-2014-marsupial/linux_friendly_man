`dig` (Domain Information Groper) — це потужна та гнучка утиліта для надсилання запитів до системи доменних імен (DNS). Вона є стандартом де-факто для діагностики та аналізу DNS, оскільки надає значно детальніший вивід, ніж `host` або `nslookup`.

#### **Базовий синтаксис**

```bash
dig [@DNS-сервер] [доменне_ім'я] [тип_запису] [ключі]
```

*   **`@DNS-сервер`**: (Необов'язково) Вказує, до якого DNS-сервера звернутися.
*   **`[доменне_ім'я]`**: Ім'я хоста, яке потрібно перевірити.
*   **`[тип_запису]`**: Тип DNS-запису (`A`, `MX`, `NS`, `ANY` тощо).

---

### **Структура виводу `dig`**

Вивід `dig` розділений на кілька секцій для максимальної інформативності:

1.  **Header**: Технічна інформація про запит та відповідь.
2.  **QUESTION SECTION**: Показує, яке питання було поставлено DNS-серверу.
3.  **ANSWER SECTION**: Відповідь на запит (наприклад, IP-адреса для A-запису).
4.  **AUTHORITY SECTION**: Список авторитетних серверів імен (NS), які відповідають за цю доменну зону.
5.  **ADDITIONAL SECTION**: Додаткова інформація, наприклад, IP-адреси серверів імен, згаданих у секції AUTHORITY.
6.  **Stats section**: Статистика про те, як швидко було виконано запит.

### **Основні ключі та опції**

*   **`+short`**
    Надає максимально короткий вивід — лише саму відповідь (наприклад, IP-адресу).

*   **`+trace`**
    Показує весь шлях DNS-запиту, починаючи від кореневих серверів (`.`). Це надзвичайно корисно для діагностики, чому домен не резолвиться.

*   **`+noall +answer`**
    Приховує всі секції, крім секції відповіді (ANSWER). Більш детальний аналог `+short`.

*   **`-x IP_адреса`**
    Виконує зворотний DNS-запит (reverse lookup), щоб знайти доменне ім'я, пов'язане з IP-адресою.

*   **`ANY`**
    Запитує всі доступні типи записів для домену.

---

### **Приклади використання**

1.  **Простий запит (отримати A-запис):**
    ```bash
    dig google.com
    ```

2.  **Отримати лише IP-адресу (короткий вивід):**
    ```bash
    dig google.com +short
    ```

3.  **Отримати записи поштових серверів (MX):**
    ```bash
    dig gmail.com MX
    ```

4.  **Відстежити повний шлях DNS-запиту:**
    ```bash
    dig wikipedia.org +trace
    ```
    *Це покаже, як ваш запит проходить від кореневих серверів до серверів `.org`, а потім до серверів `wikipedia.org`.*

5.  **Зробити зворотний DNS-запит:**
    ```bash
    dig -x 8.8.4.4
    ```

6.  **Показати тільки секцію з відповіддю:**
    ```bash
    dig github.com +noall +answer
    ```

7.  **Запитати всі типи записів для домену:**
    ```bash
    dig google.com ANY
    ```

8.  **Зробити запит до конкретного DNS-сервера (наприклад, OpenDNS):**
    ```bash
    dig apple.com @208.67.222.222
    ```

9.  **Знайти сервери імен (NS) для домену:**
    ```bash
    dig mozilla.org NS
    ```

10. **Поєднати опції: знайти MX-записи з коротким виводом:**
    ```bash
    dig google.com MX +short
    ```
