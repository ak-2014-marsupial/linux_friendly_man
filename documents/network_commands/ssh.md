Команда `ssh` (Secure Shell) — це протокол і набір утиліт для безпечного віддаленого доступу до іншого комп'ютера через мережу. `ssh` шифрує весь трафік, включаючи паролі, що робить його стандартом для віддаленого адміністрування серверів.

#### **Базовий синтаксис**

```bash
ssh [опції] [користувач@]хост
```

*   **`користувач@`**: (Опціонально) Ім'я користувача на віддаленому сервері. Якщо не вказано, `ssh` спробує використати ім'я поточного локального користувача.
*   **`хост`**: IP-адреса або доменне ім'я віддаленого сервера.

--- 

### **Аутентифікація: пароль vs SSH-ключі**

1.  **За паролем:** Простий, але менш безпечний спосіб. При кожному підключенні потрібно вводити пароль.
2.  **За SSH-ключами:** **Рекомендований і більш безпечний спосіб.** Ви генеруєте пару ключів: приватний (зберігається на вашому комп'ютері, нікому не передається) і публічний (копіюється на сервер). При підключенні сервер перевіряє, чи відповідає ваш приватний ключ публічному, і дозволяє вхід без пароля.

#### **Генерація SSH-ключів**

```bash
ssh-keygen -t rsa -b 4096
```
*   **`-t rsa`**: Тип ключа (RSA є поширеним вибором).
*   **`-b 4096`**: Довжина ключа в бітах (4096 — надійний варіант).

Команда створить два файли в `~/.ssh/`: `id_rsa` (приватний ключ) та `id_rsa.pub` (публічний ключ).

#### **Копіювання публічного ключа на сервер**

```bash
ssh-copy-id користувач@хост
```
Ця утиліта автоматично додасть ваш публічний ключ у файл `~/.ssh/authorized_keys` на сервері.

--- 

### **Основні опції `ssh`**

| Опція | Пояснення |
| :--- | :--- |
| **`-p ПОРТ`** | Вказати порт для підключення (за замовчуванням 22). |
| **`-i /шлях/до/ключа`** | Використовувати вказаний приватний ключ для аутентифікації. |
| **`-v`**, **`-vv`**, **`-vvv`** | Режим відладки (verbose). Показує детальну інформацію про процес підключення. Дуже корисно для діагностики проблем. |
| **`-L локальний_порт:хост:віддалений_порт`** | SSH-тунелювання. Прокидає порт з віддаленої машини на локальну. |

--- 

### **Приклади використання**

1.  **Просте підключення за паролем:**
    ```bash
    ssh user@192.168.1.100
    ```

2.  **Підключення з іншим іменем користувача:**
    Якщо ваше локальне ім'я `andrew`, а на сервері — `admin`.
    ```bash
    ssh admin@server.com
    ```

3.  **Підключення до нестандартного порту:**
    ```bash
    ssh user@server.com -p 2222
    ```

4.  **Підключення з використанням конкретного SSH-ключа:**
    ```bash
    ssh -i ~/.ssh/work_key user@work-server.com
    ```

5.  **Виконання команди на віддаленому сервері без входу в оболонку:**
    ```bash
    ssh user@server.com 'ls -l /var/www'
    ```
    *Ця команда виконає `ls -l` на сервері та виведе результат у ваш локальний термінал.*

6.  **SSH-тунелювання (прокидання порту):**
    Припустимо, на сервері `server.com` запущена база даних на порту `3306`, який доступний тільки локально. Ви можете прокинути цей порт на свій комп'ютер.
    ```bash
    ssh -L 8080:localhost:3306 user@server.com
    ```
    *Тепер, підключаючись до `localhost:8080` на вашому комп'ютері, ви насправді будете підключатися до порту `3306` на сервері.*

7.  **Використання конфігураційного файлу `~/.ssh/config`:**
    Щоб не писати довгі команди, можна створити аліаси.
    ```
    # ~/.ssh/config
    Host webserver
        HostName 123.45.67.89
        User webadmin
        Port 2222
        IdentityFile ~/.ssh/web_key
    ```
    Тепер для підключення достатньо написати:
    ```bash
    ssh webserver
    ```
