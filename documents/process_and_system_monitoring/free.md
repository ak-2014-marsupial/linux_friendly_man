# Посібник з утиліти `free`

`free` — це проста утиліта командного рядка, яка показує зведену інформацію про використання фізичної пам'яті (RAM) та пам'яті підкачки (swap) у системі.

### **Ключова концепція: `free` проти `available`**

Найбільша плутанина при читанні виводу `free` виникає через різницю між "вільною" та "доступною" пам'яттю. Сучасні ядра Linux використовують будь-яку невикористану пам'ять для кешування дискових операцій (buffers/cache), щоб прискорити роботу системи. Ця пам'ять технічно є "використаною", але система може миттєво звільнити її, якщо якійсь програмі знадобиться більше RAM.

*   **`free`**: Повністю вільна, невикористана пам'ять.
*   **`buff/cache`**: Пам'ять, використана ядром для кешування. Вона прискорює систему.
*   **`available`**: **Найважливіший показник.** Це реальна кількість пам'яті, доступна для запуску нових програм без необхідності використання swap. Вона враховує `free` пам'ять плюс ту частину `buff/cache`, яку можна легко звільнити.

**Висновок**: Дивіться на колонку `available`, щоб зрозуміти, скільки пам'яті насправді є в розпорядженні системи.

#### **Базовий синтаксис**

```bash
free [опції]
```

---

### **Основні опції**

| Опція | Пояснення |
| :--- | :--- |
| **`-h`** | **(Human-readable)**. **Найкорисніша опція.** Показувати значення у людино-читабельному форматі (кілобайти, мегабайти, гігабайти). |
| **`-b`, `-k`, `-m`, `-g`** | Показувати значення у байтах, кілобайтах (за замовчуванням), мегабайтах або гігабайтах відповідно. |
| **`-s N`** | **(Seconds)**. Оновлювати вивід кожні `N` секунд. |
| **`-c N`** | **(Count)**. Показати вивід `N` разів (використовується разом з `-s`). |
| **`-t`** | **(Total)**. Додати рядок з підсумковими значеннями (RAM + Swap). |

---

### **Розуміння виводу команди**

Розглянемо приклад виводу `free -h`:

```
               total        used        free      shared  buff/cache   available
Mem:           7.7Gi       2.1Gi       3.7Gi       120Mi       1.9Gi       5.2Gi
Swap:          2.0Gi          0B       2.0Gi
```

**Рядки:**
*   **`Mem`**: Інформація про фізичну пам'ять (RAM).
*   **`Swap`**: Інформація про файл або розділ підкачки.

**Стовпці:**
*   **`total`**: Загальний обсяг пам'яті.
*   **`used`**: Використана пам'ять. Розраховується як `total - free - buff/cache`.
*   **`free`**: Повністю вільна пам'ять.
*   **`shared`**: Пам'ять, що використовується `tmpfs` (файловою системою в пам'яті).
*   **`buff/cache`**: Пам'ять, зайнята кешем ядра. Це нормально і добре для продуктивності.
*   **`available`**: Реально доступна пам'ять для нових програм.

---

### **Практичні приклади**

1.  **Показати використання пам'яті у зручному форматі:**
    ```bash
    free -h
    ```

2.  **Показати використання пам'яті в мегабайтах:**
    ```bash
    free -m
    ```

3.  **Моніторити використання пам'яті кожні 2 секунди (вихід — `Ctrl+C`):**
    ```bash
    free -s 2
    ```

4.  **Показати звіт 5 разів з інтервалом в 1 секунду:**
    ```bash
    free -s 1 -c 5
    ```

5.  **Показати підсумковий рядок `Total`:**
    ```bash
    free -ht
    ```

### **`free` чи `top`?**

*   **`free`** надає швидкий, статичний знімок **загального** стану пам'яті. Вона ідеальна, щоб швидко відповісти на питання "Скільки пам'яті вільно?".
*   **`top`** (або `htop`) надає **динамічний, інтерактивний** огляд системи, який включає використання пам'яті **кожним окремим процесом**. Вона відповідає на питання "*Що саме* використовує пам'ять?".
