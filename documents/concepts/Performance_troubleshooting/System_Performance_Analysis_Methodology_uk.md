# –ê–Ω–∞–ª—ñ–∑ —Ç–∞ –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –®–≤–∏–¥–∫–æ–¥—ñ—ó: –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞ –ú–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—è

## –í—Å—Ç—É–ø: –©–æ —Ç–∞–∫–µ –®–≤–∏–¥–∫–æ–¥—ñ—è?

**–®–≤–∏–¥–∫–æ–¥—ñ—è (Performance)** ‚Äî —Ü–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ "—à–≤–∏–¥–∫—ñ—Å—Ç—å —Ä–æ–±–æ—Ç–∏", –∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞, —â–æ –æ–ø–∏—Å—É—î, –Ω–∞—Å–∫—ñ–ª—å–∫–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Å–∏—Å—Ç–µ–º–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –Ω–∞—è–≤–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å. –í–æ–Ω–∞ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –¥–≤–æ—Ö –∫–ª—é—á–æ–≤–∏—Ö –∞—Å–ø–µ–∫—Ç—ñ–≤:

| –ê—Å–ø–µ–∫—Ç | –ü–æ—è—Å–Ω–µ–Ω–Ω—è |
| :--- | :--- |
| **–ü—Ä–æ–ø—É—Å–∫–Ω–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å (Throughput)** | –ö—ñ–ª—å–∫—ñ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ–π, —è–∫—ñ —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ –≤–∏–∫–æ–Ω–∞—Ç–∏ –∑–∞ –æ–¥–∏–Ω–∏—Ü—é —á–∞—Å—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–∞–ø–∏—Ç—ñ–≤/—Å–µ–∫). |
| **–ß–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (Latency)** | –ß–∞—Å, –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–π –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ–¥–Ω—ñ—î—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –º—Å). |

–ú–µ—Ç–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ä–µ–∞–≥—É–≤–∞—Ç–∏ –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏, –∞ —Ä–æ–∑—É–º—ñ—Ç–∏, —è–∫ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–≤–æ–¥–∏—Ç—å—Å—è –ø—ñ–¥ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º, —ñ –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ "–≤—É–∑—å–∫—ñ –º—ñ—Å—Ü—è" (bottlenecks) –¥–æ —Ç–æ–≥–æ, —è–∫ –≤–æ–Ω–∏ –≤–ø–ª–∏–Ω—É—Ç—å –Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.

### –Ø–∫—ñ —Å–∏–º–ø—Ç–æ–º–∏ –≤–∫–∞–∑—É—é—Ç—å –Ω–∞ –Ω–∏–∑—å–∫—É —à–≤–∏–¥–∫–æ–¥—ñ—é?
–°–∏–º–ø—Ç–æ–º–∏, —è–∫—ñ –∫—Ä–∏—á–∞—Ç—å –ø—Ä–æ –ø—Ä–æ–±–ª–µ–º–∏:

- **–¢—Ä–∏–≤–∞–ª–∏–π —á–∞—Å –≤—ñ–¥–≥—É–∫—É (Latency):** –ö–æ–º–∞–Ω–¥–∏, –ø—Ä–æ–≥—Ä–∞–º–∏, –≤–µ–±—Å—Ç–æ—Ä—ñ–Ω–∫–∏ –≤—ñ–¥–∫—Ä–∏–≤–∞—é—Ç—å—Å—è –ø–æ–≤—ñ–ª—å–Ω–æ.
- **–ß–∞—Å—Ç—ñ –∑–∞–≤–∏—Å–∞–Ω–Ω—è/—Ñ—Ä–∏–∑–∏:** –°–∏—Å—Ç–µ–º–∞ –Ω–∞ –∫–æ—Ä–æ—Ç–∫–∏–π –∞–±–æ —Ç—Ä–∏–≤–∞–ª–∏–π —á–∞—Å —Å—Ç–∞—î –Ω–µ–∫–µ—Ä–æ–≤–∞–Ω–æ—é.
- **–í–∏—Å–æ–∫–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (High Load Average):** –ù–∞–≤—ñ—Ç—å –∫–æ–ª–∏ –∑–¥–∞—î—Ç—å—Å—è, —â–æ –Ω—ñ—á–æ–≥–æ –Ω–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è.
- **–ê–∫—Ç–∏–≤–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—ñ–¥–∫–∞—á–∫–∏ (Swap Activity):** –°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—ñ–π–Ω–æ "–≥–∞–Ω—è—î" –¥–∞–Ω—ñ –º—ñ–∂ RAM —ñ –¥–∏—Å–∫–æ–º.
- **–ü–æ–º–∏–ª–∫–∏:** –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—ñ–¥–º–æ–≤–∞ —É –∑'—î–¥–Ω–∞–Ω–Ω—ñ, –ø–æ–º–∏–ª–∫–∏ –≤–≤–æ–¥—É/–≤–∏–≤–æ–¥—É, –Ω–µ–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–¥—ñ–ª–∏—Ç–∏ –ø–∞–º'—è—Ç—å.

### –û—Å–Ω–æ–≤–Ω—ñ –†–µ—Å—É—Ä—Å–∏ –°–∏—Å—Ç–µ–º–∏
–ê–Ω–∞–ª—ñ–∑ –∑–∞–≤–∂–¥–∏ —Å—Ñ–æ–∫—É—Å–æ–≤–∞–Ω–∏–π –Ω–∞ —á–æ—Ç–∏—Ä—å–æ—Ö –∫–ª—é—á–æ–≤–∏—Ö —Ä–µ—Å—É—Ä—Å–∞—Ö. –ü—Ä–æ–±–ª–µ–º–∞ —à–≤–∏–¥–∫–æ–¥—ñ—ó –º–∞–π–∂–µ –∑–∞–≤–∂–¥–∏ –∑–≤–æ–¥–∏—Ç—å—Å—è –¥–æ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞–±–æ –Ω–∞—Å–∏—á–µ–Ω–Ω—è –æ–¥–Ω–æ–≥–æ –∑ –Ω–∏—Ö:

- **–ü—Ä–æ—Ü–µ—Å–æ—Ä (CPU):** –û–±—á–∏—Å–ª—é–≤–∞–ª—å–Ω–∞ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å.
- **–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞ –ø–∞–º'—è—Ç—å (RAM):** –®–≤–∏–¥–∫–µ —Å—Ö–æ–≤–∏—â–µ –¥–∞–Ω–∏—Ö –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º.
- **–î–∏—Å–∫–æ–≤–∞ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∞ (Disk I/O):** –®–≤–∏–¥–∫—ñ—Å—Ç—å —á–∏—Ç–∞–Ω–Ω—è/–∑–∞–ø–∏—Å—É –¥–∞–Ω–∏—Ö –Ω–∞ –Ω–æ—Å—ñ—ó.
- **–ú–µ—Ä–µ–∂–µ–≤–∞ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∞ (Network I/O):** –®–≤–∏–¥–∫—ñ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á—ñ/–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö.

---

## üìä –ß–∞—Å—Ç–∏–Ω–∞ 1: –ß–æ–º—É –°–µ—Ä–µ–¥–Ω—î –ó–Ω–∞—á–µ–Ω–Ω—è ‚Äî –ü–æ–≥–∞–Ω–∏–π –ü–æ–∫–∞–∑–Ω–∏–∫? –†–æ–∑—É–º—ñ–Ω–Ω—è –ü–µ—Ä—Å–µ–Ω—Ç–∏–ª—ñ–≤

–ü—Ä–∏ –∞–Ω–∞–ª—ñ–∑—ñ —á–∞—Å—É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (Latency) –ª–µ–≥–∫–æ –ø–æ—Ç—Ä–∞–ø–∏—Ç–∏ –≤ –ø–∞—Å—Ç–∫—É **—Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è (Average)**. –í–æ–Ω–æ –º–æ–∂–µ –ø—Ä–∏—Ö–æ–≤—É–≤–∞—Ç–∏ —Å–µ—Ä–π–æ–∑–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏, —è–∫—ñ –≤—ñ–¥—á—É–≤–∞—î –Ω–µ–≤–µ–ª–∏–∫–∞, –∞–ª–µ –≤–∞–∂–ª–∏–≤–∞ —á–∞—Å—Ç–∏–Ω–∞ –≤–∞—à–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.

**–ü–µ—Ä—Å–µ–Ω—Ç–∏–ª—å (Percentile, Px)** ‚Äî —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è –º–µ—Ç—Ä–∏–∫–∏, –Ω–∏–∂—á–µ –∞–±–æ –¥–æ—Ä—ñ–≤–Ω—é—î —è–∫–æ–º—É –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è `x` –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤ —É—Å—ñ—Ö –≤–∏–º—ñ—Ä—è–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å.

> **–ê–Ω–∞–ª–æ–≥—ñ—è:** –£—è–≤—ñ—Ç—å, —â–æ –≤–∏ —Å—Ç–æ—ó—Ç–µ –≤ —á–µ—Ä–∑—ñ –∑ 100 –ª—é–¥–µ–π.
> *   **P50 (–º–µ–¥—ñ–∞–Ω–∞)** ‚Äî —Ü–µ —á–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è 50-—ó –ª—é–¥–∏–Ω–∏. 50% –ª—é–¥–µ–π —á–µ–∫–∞–ª–∏ –º–µ–Ω—à–µ, 50% ‚Äî –±—ñ–ª—å—à–µ.
> *   **P95** ‚Äî —Ü–µ —á–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è 95-—ó –ª—é–¥–∏–Ω–∏. 95% –ª—é–¥–µ–π —á–µ–∫–∞–ª–∏ —Å—Ç—ñ–ª—å–∫–∏ –∂ –∞–±–æ –º–µ–Ω—à–µ.
> *   **P99** ‚Äî —Ü–µ —á–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è 99-—ó –ª—é–¥–∏–Ω–∏. –õ–∏—à–µ 1% "–Ω–µ—â–∞—Å–ª–∏–≤—á–∏–∫—ñ–≤" —á–µ–∫–∞–ª–∏ –¥–æ–≤—à–µ.

| –ü–µ—Ä—Å–µ–Ω—Ç–∏–ª—å | –ó–Ω–∞—á–µ–Ω–Ω—è —Ç–∞ –ó–Ω–∞—á–∏–º—ñ—Å—Ç—å |
| :--- | :--- |
| **P50 (–ú–µ–¥—ñ–∞–Ω–∞)** | –¢–æ—á–∫–∞, –¥–µ 50% –∑–∞–ø–∏—Ç—ñ–≤ —à–≤–∏–¥—à—ñ —ñ 50% –ø–æ–≤—ñ–ª—å–Ω—ñ—à—ñ. –ì–∞—Ä–Ω–∏–π —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä **—Ç–∏–ø–æ–≤–æ—ó** –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ. |
| **P95** | –ß–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —è–∫ –æ—Å–Ω–æ–≤–Ω–∏–π SLO (Service Level Objective). –í—ñ–¥–æ–±—Ä–∞–∂–∞—î –¥–æ—Å–≤—ñ–¥ **–±—ñ–ª—å—à–æ—Å—Ç—ñ** –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, —ñ–≥–Ω–æ—Ä—É—é—á–∏ –ª–∏—à–µ –Ω–∞–π–∂–æ—Ä—Å—Ç–∫—ñ—à—ñ –∞–Ω–æ–º–∞–ª—ñ—ó. |
| **P99** | –í—ñ–¥–æ–±—Ä–∞–∂–∞—î –¥–æ—Å–≤—ñ–¥ **–º–∞–π–∂–µ –≤—Å—ñ—Ö** –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤. –¶–µ –∫—Ä–∏—Ç–∏—á–Ω–∏–π –ø–æ–∫–∞–∑–Ω–∏–∫ –¥–ª—è –≤–∞–∂–ª–∏–≤–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤ –∞–±–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤, –¥–µ –∑–±–æ—ó –Ω–µ–ø—Ä–∏–ø—É—Å—Ç–∏–º—ñ. |

**–ü—Ä–∞–∫—Ç–∏—á–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥:**
–í–∞—à –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∫–∞–∑—É—î:
*   `Average Latency`: 100 –º—Å
*   `P99 Latency`: 5000 –º—Å (5 —Å–µ–∫—É–Ω–¥!)

**–í–∏—Å–Ω–æ–≤–∫–∏:**
–ë—ñ–ª—å—à—ñ—Å—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –æ—Ç—Ä–∏–º—É—é—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å —à–≤–∏–¥–∫–æ (–≤ –º–µ–∂–∞—Ö 100 –º—Å), –∞–ª–µ 1% –∑–∞–ø–∏—Ç—ñ–≤ "–∑–∞–≤–∏—Å–∞—é—Ç—å" –Ω–∞ 5 —Å–µ–∫—É–Ω–¥. –¶–µ –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–∫–ª–∏–∫–∞–Ω–æ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è–º –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö, –ø–∞—É–∑–æ—é –Ω–∞ –∑–±–∏—Ä–∞–Ω–Ω—è —Å–º—ñ—Ç—Ç—è (Full GC) –≤ Java-–¥–æ–¥–∞—Ç–∫—É –∞–±–æ —ñ–Ω—à–æ—é —Ä—ñ–¥–∫—ñ—Å–Ω–æ—é, –∞–ª–µ –±–æ–ª—é—á–æ—é –ø—Ä–æ–±–ª–µ–º–æ—é. **–°–µ—Ä–µ–¥–Ω—î –∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∏—Ö–æ–≤—É—î —Ü—é –ø—Ä–æ–±–ª–µ–º—É, –∞ –ø–µ—Ä—Å–µ–Ω—Ç–∏–ª—ñ —ó—ó –≤–∏—è–≤–ª—è—é—Ç—å.**

---

## üõ†Ô∏è –ß–∞—Å—Ç–∏–Ω–∞ 2: –ú–µ—Ç–æ–¥–∏ –ê–Ω–∞–ª—ñ–∑—É ‚Äî –í—ñ–¥ –ó–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ –¥–æ –í–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ

–°–∏—Å—Ç–µ–º–Ω–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ ‚Äî —Ü–µ —è–∫ —Ä–æ–±–æ—Ç–∞ –¥–µ—Ç–µ–∫—Ç–∏–≤–∞. –ü–æ—á–∏–Ω–∞—Ç–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ —ñ–∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —Å–∏–º–ø—Ç–æ–º—ñ–≤ (—â–æ –±–∞—á–∏—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á) —ñ –ø–æ—Å—Ç—É–ø–æ–≤–æ –∑–∞–≥–ª–∏–±–ª—é–≤–∞—Ç–∏—Å—è –¥–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö –ø—Ä–∏—á–∏–Ω (—â–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑ —Ä–µ—Å—É—Ä—Å–∞–º–∏).

### –ö—Ä–æ–∫ 1: –ú–µ—Ç–æ–¥ RED (Rate, Errors, Duration) ‚Äî –ó–æ–≤–Ω—ñ—à–Ω—ñ–π –ê–Ω–∞–ª—ñ–∑

–¶–µ–π –º–µ—Ç–æ–¥ –¥–æ–∑–≤–æ–ª—è—î —à–≤–∏–¥–∫–æ –æ—Ü—ñ–Ω–∏—Ç–∏, —è–∫ –ø—Ä–æ–±–ª–µ–º–∞ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, —ñ –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ –Ω–∞ –≥–æ–ª–æ–≤–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è: "–ß–∏ —î –ø—Ä–æ–±–ª–µ–º–∞ –≤–∑–∞–≥–∞–ª—ñ?". –ê–Ω–∞–ª—ñ–∑—É—é—Ç—å—Å—è —Ç—Ä–∏ –∫–ª—é—á–æ–≤—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞ —Ä—ñ–≤–Ω—ñ —Å–µ—Ä–≤—ñ—Å—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –∞–±–æ API).

| –ú–µ—Ç—Ä–∏–∫–∞ | –ü–∏—Ç–∞–Ω–Ω—è | –ü—Ä–∏–∫–ª–∞–¥ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ –≤–∏—Å–Ω–æ–≤–∫–∏ –∫–æ–º–∞–Ω–¥–∏ |
| :--- | :--- | :--- |
| **Rate** (–Ü–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ñ—Å—Ç—å) | –°–∫—ñ–ª—å–∫–∏ –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ —Å–µ–∫—É–Ω–¥—É –æ–±—Ä–æ–±–ª—è—î —Å–∏—Å—Ç–µ–º–∞? | **–ü—Ä–æ–±–ª–µ–º–∞:** `Rate` —Ä–∞–ø—Ç–æ–≤–æ –≤–ø–∞–≤ –∑ 1000 –¥–æ 200 –∑–∞–ø–∏—Ç—ñ–≤/—Å–µ–∫, —Ö–æ—á–∞ –≤—Ö—ñ–¥–Ω–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–µ –∑–º—ñ–Ω–∏–ª–æ—Å—è.<br>**–í–∏—Å–Ω–æ–≤–∫–∏:** –°–µ—Ä–≤–µ—Ä –∑–∞–π–Ω—è—Ç–∏–π —è–∫–æ—é—Å—å –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—é —Ä–æ–±–æ—Ç–æ—é —ñ –Ω–µ –≤—Å—Ç–∏–≥–∞—î –æ–±—Ä–æ–±–ª—è—Ç–∏ –∑–∞–ø–∏—Ç–∏. –ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏: Deadlock, –∞–∫—Ç–∏–≤–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è I/O, –¥–æ–≤–≥–µ –∑–±–∏—Ä–∞–Ω–Ω—è —Å–º—ñ—Ç—Ç—è. |
| **Errors** (–ü–æ–º–∏–ª–∫–∏) | –Ø–∫–∏–π –≤—ñ–¥—Å–æ—Ç–æ–∫ –∑–∞–ø–∏—Ç—ñ–≤ –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è –ø–æ–º–∏–ª–∫–æ—é? | **–ü—Ä–æ–±–ª–µ–º–∞:** –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫ (HTTP 503 Service Unavailable) –∑—Ä–æ—Å–ª–∞ –¥–æ 5%.<br>**–í–∏—Å–Ω–æ–≤–∫–∏:** –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—è–≥–ª–∞ –ª—ñ–º—ñ—Ç—É —Ä–µ—Å—É—Ä—Å—ñ–≤ (–≤–∏—á–µ—Ä–ø–∞–Ω–æ –ø–æ—Ç–æ–∫–∏, –∫–æ–Ω–µ–∫—Ü—ñ—ó –¥–æ –ë–î). –¶–µ –ø—Ä—è–º–∏–π —Å–∏–≥–Ω–∞–ª **–Ω–∞—Å–∏—á–µ–Ω–Ω—è (Saturation)**. –ü–æ—Ç—Ä—ñ–±–Ω–æ –Ω–µ–≥–∞–π–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–∏ –¥–æ USE-–∞–Ω–∞–ª—ñ–∑—É. |
| **Duration** (–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å) | –°–∫—ñ–ª—å–∫–∏ —á–∞—Å—É –∑–∞–π–º–∞—î –æ–±—Ä–æ–±–∫–∞ –∑–∞–ø–∏—Ç—É? (–ê–Ω–∞–ª—ñ–∑—É—î–º–æ P95/P99) | **–ü—Ä–æ–±–ª–µ–º–∞:** `P99 Duration` –∑—Ä—ñ—Å —ñ–∑ 500 –º—Å –¥–æ 3000 –º—Å.<br>**–í–∏—Å–Ω–æ–≤–∫–∏:** –ü—Ä–æ–±–ª–µ–º–∞ —î, –≤–æ–Ω–∞ —Ä—ñ–¥–∫—ñ—Å–Ω–∞, –∞–ª–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ –¥–ª—è —á–∞—Å—Ç–∏–Ω–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤. –ü–æ—Ç—Ä—ñ–±–Ω–æ —à—É–∫–∞—Ç–∏ "—Å–ø–ª—è—á—ñ" —Ä–µ—Å—É—Ä—Å–∏, —è–∫—ñ —á–∞—Å –≤—ñ–¥ —á–∞—Å—É "–±–ª–æ–∫—É—é—Ç—å" —Å–∏—Å—Ç–µ–º—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–æ–≤—ñ–ª—å–Ω–∏–π –∑–∞–ø–∏—Ç –¥–æ –ë–î, Full GC). |

### –ö—Ä–æ–∫ 2: –ú–µ—Ç–æ–¥ USE (Utilization, Saturation, Errors) ‚Äî –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –ê–Ω–∞–ª—ñ–∑

–Ø–∫—â–æ RED-–∞–Ω–∞–ª—ñ–∑ –ø–æ–∫–∞–∑–∞–≤ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º–∏, USE-–º–µ—Ç–æ–¥ –¥–æ–ø–æ–º–∞–≥–∞—î –ª–æ–∫–∞–ª—ñ–∑—É–≤–∞—Ç–∏ "–≤—É–∑—å–∫–µ –º—ñ—Å—Ü–µ" (bottleneck) –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Å–∏—Å—Ç–µ–º–∏. –î–ª—è –∫–æ–∂–Ω–æ–≥–æ –∫–ª—é—á–æ–≤–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É (CPU, RAM, Disk, Network) –º–∏ –∞–Ω–∞–ª—ñ–∑—É—î–º–æ —Ç—Ä–∏ –º–µ—Ç—Ä–∏–∫–∏.

*   **Utilization (U, –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è):** –ù–∞—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤ —Ä–µ—Å—É—Ä—Å –∑–∞–π–Ω—è—Ç–∏–π —Ä–æ–±–æ—Ç–æ—é. *–í–∏—Å–æ–∫–∞ —É—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è ‚Äî —Ü–µ –Ω–µ –∑–∞–≤–∂–¥–∏ –ø–æ–≥–∞–Ω–æ.*
*   **Saturation (S, –ù–∞—Å–∏—á–µ–Ω–Ω—è):** –ß–∏ —î —á–µ—Ä–≥–∞ –¥–æ —Ä–µ—Å—É—Ä—Å—É? –¶–µ –≥–æ–ª–æ–≤–Ω–∏–π —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–±–ª–µ–º. *–†–æ–±–æ—Ç–∞ —Å—Ç–æ—ó—Ç—å —ñ —á–µ–∫–∞—î.*
*   **Errors (E, –ü–æ–º–∏–ª–∫–∏):** –ß–∏ —î –ø–æ–º–∏–ª–∫–∏, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ —Ü–∏–º —Ä–µ—Å—É—Ä—Å–æ–º?

#### –ö–µ–π—Å 1: –ù–∞—Å–∏—á–µ–Ω–Ω—è CPU (CPU Saturation)

**–°—Ü–µ–Ω–∞—Ä—ñ–π:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Å–∫–∞—Ä–∂–∞—Ç—å—Å—è –Ω–∞ "–≥–∞–ª—å–º—É–≤–∞–Ω–Ω—è" —Å–∏—Å—Ç–µ–º–∏. RED-–∞–Ω–∞–ª—ñ–∑ –ø–æ–∫–∞–∑—É—î –∑–±—ñ–ª—å—à–µ–Ω–Ω—è `Duration`.

**–ö–ª—é—á–æ–≤—ñ –º–µ—Ç—Ä–∏–∫–∏ —Ç–∞ —É—Ç–∏–ª—ñ—Ç–∏ –¥–ª—è CPU:**
| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–Ω—è —Ç–∞ –ü–æ—è—Å–Ω–µ–Ω–Ω—è | –ù–æ—Ä–º–∞ | –£—Ç–∏–ª—ñ—Ç–∏ |
| :--- | :--- | :---: | :--- |
| **id (idle)** | –ß–∞—Å –ø—Ä–æ—Å—Ç–æ—é. –ù–∞–π—à–≤–∏–¥—à–∏–π —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ—Å—Ç—ñ. | >0% | `vmstat`, `top`, `htop` |
| **%us + %sy** | –ß–∞—Å, –≤–∏—Ç—Ä–∞—á–µ–Ω–∏–π –Ω–∞ –∫–æ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Ç–∞ —è–¥—Ä–æ (Utilization). | ‚â§80‚àí90% | `mpstat`, `top` |
| **Load Average (LA)** | –°–µ—Ä–µ–¥–Ω—è –¥–æ–≤–∂–∏–Ω–∞ —á–µ—Ä–≥–∏ –ø—Ä–æ—Ü–µ—Å—ñ–≤ (Saturation). | ‚â§1 –Ω–∞ —è–¥—Ä–æ | `uptime`, `vmstat` |
| **%wa (wait)** | –ß–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è I/O (–æ–ø–æ—Å–µ—Ä–µ–¥–∫–æ–≤–∞–Ω–∏–π —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–±–ª–µ–º —ñ–∑ –î–∏—Å–∫–æ–º). | ‚Üí0 | `vmstat`, `top` |

**–°–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è (htop/vmstat):**
```
CPU Utilization (us+sy): 40%
Load Average: 8.15 (–Ω–∞ 4-—è–¥–µ—Ä–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ)
```

| –†–µ—Å—É—Ä—Å | –ú–µ—Ç—Ä–∏–∫–∏ USE | –°–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–º–∞–Ω–¥–∏ | –î—ñ–∞–≥–Ω–æ–∑ —Ç–∞ –†—ñ—à–µ–Ω–Ω—è |
| :--- | :--- | :--- | :--- |
| **CPU** | **U:** 40% (–Ω–∏–∑—å–∫–∞) <br> **S:** Load Average > –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —è–¥–µ—Ä (8 > 4) <br> **E:** 0 | –ü—Ä–æ—Ü–µ—Å–æ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –Ω–µ –Ω–∞ –ø–æ–≤–Ω—É –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å, –∞–ª–µ –ø—Ä–∏ —Ü—å–æ–º—É —ñ—Å–Ω—É—î –≤–µ–ª–∏—á–µ–∑–Ω–∞ —á–µ—Ä–≥–∞ –∑ –ø—Ä–æ—Ü–µ—Å—ñ–≤, —è–∫—ñ —Ö–æ—á—É—Ç—å –π–æ–≥–æ –æ—Ç—Ä–∏–º–∞—Ç–∏. `8 - 4 = 4` –ø—Ä–æ—Ü–µ—Å–∏ –ø–æ—Å—Ç—ñ–π–Ω–æ —á–µ–∫–∞—é—Ç—å. | **–î—ñ–∞–≥–Ω–æ–∑:** –í–∏—Å–æ–∫–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü—ñ—è –∑–∞ CPU (Lock Contention) –∞–±–æ –ø—Ä–æ–±–ª–µ–º–∞ –∑ –ø–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫–æ–º –û–°. –ü—Ä–æ—Ü–µ—Å–∏ –±–ª–æ–∫—É—é—Ç—å –æ–¥–∏–Ω –æ–¥–Ω–æ–≥–æ.<br>**–ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `pidstat -w 1` –¥–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—ñ–≤ –∑ –∞–Ω–æ–º–∞–ª—å–Ω–æ –≤–µ–ª–∏–∫–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∏—Ö –ø–µ—Ä–µ–º–∏–∫–∞–Ω—å (`cswch/s`). |

#### –ö–µ–π—Å 2: –ù–∞—Å–∏—á–µ–Ω–Ω—è –î–∏—Å–∫—É (Disk Saturation)

**–°—Ü–µ–Ω–∞—Ä—ñ–π:** –ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –ø—Ä–∞—Ü—é—î –ø–æ–≤—ñ–ª—å–Ω–æ, –≤ –ª–æ–≥–∞—Ö —Ç–∞–π–º–∞—É—Ç–∏ –ø—Ä–∏ –∑–∞–ø–∏—Ç–∞—Ö –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö.

**–ö–ª—é—á–æ–≤—ñ –º–µ—Ç—Ä–∏–∫–∏ —Ç–∞ —É—Ç–∏–ª—ñ—Ç–∏ –¥–ª—è Disk I/O:**
| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–Ω—è —Ç–∞ –ü–æ—è—Å–Ω–µ–Ω–Ω—è | –ù–æ—Ä–º–∞ | –£—Ç–∏–ª—ñ—Ç–∏ |
| :--- | :--- | :--- | :--- |
| **%util** | –ß–∞—Å –∑–∞–π–Ω—è—Ç–æ—Å—Ç—ñ –ø—Ä–∏—Å—Ç—Ä–æ—é (Utilization). | <100% | `iostat -xz`, `sar -d` |
| **avgqu-sz** | –°–µ—Ä–µ–¥–Ω—è –¥–æ–≤–∂–∏–Ω–∞ —á–µ—Ä–≥–∏ –∑–∞–ø–∏—Ç—ñ–≤ (Saturation). | <1 | `iostat -xz` |
| **await** | –°–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ—ó (–≤–∫–ª—é—á–Ω–æ –∑ —á–∞—Å–æ–º —É —á–µ—Ä–∑—ñ). | ‚Üímin | `iostat -xz` |

**–°–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è (iostat -xz 1):**
```
Device  %util  avgqu-sz
sda     95.00      4.5
```
**–°–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è (vmstat 1):**
```
procs -----------memory---------- ---swap-- -----io---- -system- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 1  4      0 123456  98765 654321    0    0  1024  2048  ...  ... 30 10 20 40  0
```

| –†–µ—Å—É—Ä—Å | –ú–µ—Ç—Ä–∏–∫–∏ USE | –°–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–º–∞–Ω–¥–∏ | –î—ñ–∞–≥–Ω–æ–∑ —Ç–∞ –†—ñ—à–µ–Ω–Ω—è |
| :--- | :--- | :--- | :--- |
| **Disk** | **U:** 95% (–¥—É–∂–µ –≤–∏—Å–æ–∫–∞) <br> **S:** `avgqu-sz` = 4.5 (–≤–µ–ª–∏–∫–∞ —á–µ—Ä–≥–∞) <br> **E:** 0 | –î–∏—Å–∫ –º–∞–π–∂–µ –≤–µ—Å—å —á–∞—Å –∑–∞–π–Ω—è—Ç–∏–π, —ñ –¥–æ –Ω—å–æ–≥–æ —Å—Ç–æ—ó—Ç—å —á–µ—Ä–≥–∞ –∑ 4-5 –∑–∞–ø–∏—Ç—ñ–≤. –ü—Ä–æ—Ü–µ—Å–æ—Ä 40% —á–∞—Å—É (`wa`) –ø—Ä–æ—Å—Ç–æ—é—î, –æ—á—ñ–∫—É—é—á–∏ –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤—ñ–¥ –¥–∏—Å–∫–∞. | **–î—ñ–∞–≥–Ω–æ–∑:** –î–∏—Å–∫–æ–≤–∞ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∞ —î "–≤—É–∑—å–∫–∏–º –º—ñ—Å—Ü–µ–º".<br>**–ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `iotop` –∞–±–æ `pidstat -d 1` –¥–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—É, —è–∫–∏–π –≥–µ–Ω–µ—Ä—É—î –Ω–∞–¥–º—ñ—Ä–Ω–∏–π I/O. –ô–º–æ–≤—ñ—Ä–Ω–æ, —Ü–µ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö, —è–∫–∞ –≤–∏–∫–æ–Ω—É—î –ø–æ–≤–Ω–µ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å –∑–∞–º—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—ñ–≤. |

#### –ö–µ–π—Å 3: –í–∏—á–µ—Ä–ø–∞–Ω–Ω—è –ü–∞–º'—è—Ç—ñ (Memory Exhaustion)

**–°—Ü–µ–Ω–∞—Ä—ñ–π:** –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—î –Ω–µ–≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—á–æ—é, SSH-—Å–µ—Å—ñ—ó –æ–±—Ä–∏–≤–∞—é—Ç—å—Å—è.

**–¢–µ–æ—Ä—ñ—è: –ü—ñ–¥–∫–∞—á–∫–∞ (Swap) ‚Äî –∫–æ–ª–∏ —Ü–µ –ø—Ä–æ–±–ª–µ–º–∞?**
- **–ü—Ä–æ—Å—Ç–æ –∑–∞–π–Ω—è—Ç–∞ –ø—ñ–¥–∫–∞—á–∫–∞ (`used>0`):** **–ù–µ –ø—Ä–æ–±–ª–µ–º–∞.** –Ø–¥—Ä–æ Linux –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å —Ç—É–¥–∏ —Å—Ç–∞—Ä—ñ –∞–±–æ —Ä—ñ–¥–∫–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –ø–∞–º'—è—Ç—ñ, –∑–≤—ñ–ª—å–Ω—è—é—á–∏ —à–≤–∏–¥–∫—É RAM –¥–ª—è –∫–µ—à—É —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏.
- **–ê–∫—Ç–∏–≤–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—ñ–¥–∫–∞—á–∫–∏ (Swap Thrashing):** **–¶–µ –ø—Ä–æ–±–ª–µ–º–∞.** –û–∑–Ω–∞—á–∞—î, —â–æ —Å–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—ñ–π–Ω–æ –∑–º—É—à–µ–Ω–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑ –¥–∏—Å–∫–∞ –≤ RAM (`si`) —ñ –≤–∏–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —ó—Ö –Ω–∞–∑–∞–¥ –Ω–∞ –¥–∏—Å–∫ (`so`). –¶–µ —Ä—ñ–∑–∫–æ —É–ø–æ–≤—ñ–ª—å–Ω—é—î –≤—Å—é —Å–∏—Å—Ç–µ–º—É.

**–°–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è (free -m / vmstat 1):**
```
              total        used        free
Mem:          16000       15800         200
Swap:          8000        4000        4000

vmstat:
 si   so
5000 1000  (5 –ú–ë/—Å –∑ –¥–∏—Å–∫–∞ –≤ –ø–∞–º'—è—Ç—å, 1 –ú–ë/—Å –∑ –ø–∞–º'—è—Ç—ñ –Ω–∞ –¥–∏—Å–∫)
```
–í —Å–∏—Å—Ç–µ–º–Ω–∏—Ö –ª–æ–≥–∞—Ö (`/var/log/kern.log`) –∑'—è–≤–ª—è—é—Ç—å—Å—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥ **OOM-killer**.

| –†–µ—Å—É—Ä—Å | –ú–µ—Ç—Ä–∏–∫–∏ USE | –°–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–º–∞–Ω–¥–∏ | –î—ñ–∞–≥–Ω–æ–∑ —Ç–∞ –†—ñ—à–µ–Ω–Ω—è |
| :--- | :--- | :--- | :--- |
| **RAM/Swap** | **U:** 99% (–¥—É–∂–µ –≤–∏—Å–æ–∫–∞) <br> **S:** –ê–∫—Ç–∏–≤–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è swap (`si`/`so` > 0) <br> **E:** OOM-killer —Å–ø—Ä–∞—Ü—é–≤–∞–≤ | –û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞ –ø–∞–º'—è—Ç—å –º–∞–π–∂–µ –ø–æ–≤–Ω—ñ—Å—Ç—é –≤–∏—á–µ—Ä–ø–∞–Ω–∞, —Å–∏—Å—Ç–µ–º–∞ –ø–æ—á–∞–ª–∞ –∞–∫—Ç–∏–≤–Ω–æ –ø–µ—Ä–µ–º—ñ—â—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ —É –∑–Ω–∞—á–Ω–æ –ø–æ–≤—ñ–ª—å–Ω—ñ—à–∏–π swap-—Ä–æ–∑–¥—ñ–ª –Ω–∞ –¥–∏—Å–∫—É. –¶–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –¥–µ–≥—Ä–∞–¥–∞—Ü—ñ—ó —à–≤–∏–¥–∫–æ–¥—ñ—ó. | **–î—ñ–∞–≥–Ω–æ–∑:** –í–∏—Ç—ñ–∫ –ø–∞–º'—è—Ç—ñ (Memory Leak) –≤ –æ–¥–Ω–æ–º—É –∑ –ø—Ä–æ—Ü–µ—Å—ñ–≤ –∞–±–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—ñ–π –æ–±—Å—è–≥ RAM –¥–ª—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.<br>**–ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `ps aux --sort=-%mem` –∞–±–æ `top` (–∑ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è–º –ø–æ –ø–∞–º'—è—Ç—ñ) –¥–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—É, —â–æ —Å–ø–æ–∂–∏–≤–∞—î –Ω–∞–π–±—ñ–ª—å—à–µ –ø–∞–º'—è—Ç—ñ. |

**–ú–µ—Ç–æ–¥–∏ –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è OOM —Ç–∞ Swap Thrashing:**
–ü—Ä–æ–±–ª–µ–º–∞ —Ä—ñ–¥–∫–æ –≤–∏—Ä—ñ—à—É—î—Ç—å—Å—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è–º RAM. –ü–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–∏, —è–∫—ñ —Å–ø–æ–∂–∏–≤–∞—é—Ç—å –ø–∞–º'—è—Ç—å:
| –°–µ—Ä–≤—ñ—Å | –ü–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ | –ú–µ—Ç–∞ |
| :--- | :--- | :--- |
| –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö (MySQL/MariaDB) | `innodb-buffer-pool-size` | –û–±–º–µ–∂–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä –Ω–∞–π–±—ñ–ª—å—à–æ–≥–æ –∫–µ—à—É –ë–î. |
| –í–µ–±—Å–µ—Ä–≤–µ—Ä (Apache) | `MaxConnectionsPerChild`, `ServerLimit` | –û–±–º–µ–∂–∏—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–æ–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤. |
| –°–∏—Å—Ç–µ–º–∞ (–Ø–¥—Ä–æ) | `swappiness` | –ù–∞–ª–∞—à—Ç–æ–≤—É—î –∞–≥—Ä–µ—Å–∏–≤–Ω—ñ—Å—Ç—å, –∑ —è–∫–æ—é —è–¥—Ä–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Swap. –ú–µ–Ω—à–µ –∑–Ω–∞—á–µ–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 10) —Ä–æ–±–∏—Ç—å —è–¥—Ä–æ –º–µ–Ω—à —Å—Ö–∏–ª—å–Ω–∏–º –¥–æ –≤–∏–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö. |

#### –ö–µ–π—Å 4: –ù–∞—Å–∏—á–µ–Ω–Ω—è –ú–µ—Ä–µ–∂—ñ (Network Saturation)

**–°—Ü–µ–Ω–∞—Ä—ñ–π:** –í–µ–±-—Å–µ—Ä–≤–µ—Ä –ø–æ–≤—ñ–ª—å–Ω–æ –≤—ñ–¥–¥–∞—î –∫–æ–Ω—Ç–µ–Ω—Ç, —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤—Ç—Ä–∞—Ç–∏ –ø–∞–∫–µ—Ç—ñ–≤.

**–ö–ª—é—á–æ–≤—ñ –º–µ—Ç—Ä–∏–∫–∏ —Ç–∞ —É—Ç–∏–ª—ñ—Ç–∏ –¥–ª—è Network I/O:**
| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–Ω—è —Ç–∞ –ü–æ—è—Å–Ω–µ–Ω–Ω—è | –ù–æ—Ä–º–∞ | –£—Ç–∏–ª—ñ—Ç–∏ |
| :--- | :--- | :--- | :--- |
| **%ifutil** | –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–æ–ø—É—Å–∫–Ω–æ—ó –∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ (Utilization). | <100% | `sar -n DEV`, `ip -s link` |
| **overruns/dropped** | –í—ñ–¥–∫–∏–Ω—É—Ç—ñ –ø–∞–∫–µ—Ç–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è –±—É—Ñ–µ—Ä–∞ (Saturation/Errors). | ‚Üí0 | `sar -n EDEV`, `netstat -s` |
| **retrans** | –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω—å TCP (–æ–∑–Ω–∞–∫–∞ –≤—Ç—Ä–∞—Ç–∏ –ø–∞–∫–µ—Ç—ñ–≤). | ‚Üí0 | `netstat -s`, `ss -s` |

**–°–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è (`sar -n EDEV 1`):**
```
IFACE   rxerr/s   txerr/s    coll/s  rxdrop/s  txdrop/s  txcarr/s  rxfram/s  rxfifo/s  txfifo/s
eth0       0.00      0.00      0.00     35.00      0.00      0.00      0.00      0.00      0.00
```
| –†–µ—Å—É—Ä—Å | –ú–µ—Ç—Ä–∏–∫–∏ USE | –°–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–º–∞–Ω–¥–∏ | –î—ñ–∞–≥–Ω–æ–∑ —Ç–∞ –†—ñ—à–µ–Ω–Ω—è |
| :--- | :--- | :--- | :--- |
| **Network** | **U:** (–ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ `%ifutil`) <br> **S:** `rxdrop/s` > 0 (–ø–∞–∫–µ—Ç–∏ –≤—ñ–¥–∫–∏–¥–∞—é—Ç—å—Å—è) <br> **E:** `rxerr/s` –∞–±–æ `txerr/s` | –°–∏—Å—Ç–µ–º–∞ –Ω–µ –≤—Å—Ç–∏–≥–∞—î –æ–±—Ä–æ–±–ª—è—Ç–∏ –≤—Ö—ñ–¥–Ω–∏–π —Ç—Ä–∞—Ñ—ñ–∫, —á–µ—Ä–µ–∑ —â–æ –±—É—Ñ–µ—Ä –º–µ—Ä–µ–∂–µ–≤–æ—ó –∫–∞—Ä—Ç–∏ –ø–µ—Ä–µ–ø–æ–≤–Ω—é—î—Ç—å—Å—è —ñ —è–¥—Ä–æ –∑–º—É—à–µ–Ω–µ –≤—ñ–¥–∫–∏–¥–∞—Ç–∏ –ø–∞–∫–µ—Ç–∏. | **–î—ñ–∞–≥–Ω–æ–∑:** –ù–∞—Å–∏—á–µ–Ω–Ω—è –Ω–∞ —Ä—ñ–≤–Ω—ñ –æ–±—Ä–æ–±–∫–∏ –º–µ—Ä–µ–∂–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ—ñ–∫—É.<br>**–ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `ss -tulpn` –∞–±–æ `lsof -i` –¥–ª—è –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—É, —â–æ —Å—Ç–≤–æ—Ä—é—î –Ω–∞–¥–º—ñ—Ä–Ω–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è. –ú–æ–∂–ª–∏–≤–æ, –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ç—é–Ω—ñ–Ω–≥—É–≤–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –º–µ—Ä–µ–∂–µ–≤–æ–≥–æ —Å—Ç–µ–∫—É —è–¥—Ä–∞ (—Ä–æ–∑–º—ñ—Ä–∏ –±—É—Ñ–µ—Ä—ñ–≤). |

---

## üí° –ß–∞—Å—Ç–∏–Ω–∞ 3: –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä—ñ–π —Ç–∞ –ê–Ω—Ç–∏–º–µ—Ç–æ–¥–∏

### –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä—ñ–π –°–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
| –†–µ—Å—É—Ä—Å | –ó–∞–≥–∞–ª—å–Ω–∞ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–©–û –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è?) | –ü–æ-–ø—Ä–æ—Ü–µ—Å–Ω–∞ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–•–¢–û —Ü–µ —Ä–æ–±–∏—Ç—å?) | –ö–ª—é—á–æ–≤–∞ –ú–µ—Ç—Ä–∏–∫–∞ Saturation |
| :--- | :--- | :--- | :--- |
| **CPU** | `vmstat 1`, `sar -q 1`, `mpstat -P ALL 1` | `top`/`htop`/`btop`, `ps aux`, `pidstat -u 1` | **Load Average** (—á–µ—Ä–≥–∞ –¥–æ CPU) |
| **RAM** | `free -m`, `vmstat 1`, `sar -r 1` | `top`/`htop`, `ps aux --sort=-%mem` | **swap in/out (si/so)** (—á–µ—Ä–≥–∞ –¥–æ RAM) |
| **Disk** | `iostat -xz 1`, `sar -d 1` | `iotop`, `pidstat -d 1` | **avgqu-sz** (—Ä–æ–∑–º—ñ—Ä —á–µ—Ä–≥–∏ –¥–æ –¥–∏—Å–∫–∞) |
| **Network** | `sar -n DEV 1`, `ip -s link`, `netstat -s` | `iftop`, `nethogs`, `ss -tp` | **dropped packets** (–≤—ñ–¥–∫–∏–Ω—É—Ç—ñ –ø–∞–∫–µ—Ç–∏) |

### –ê–Ω—Ç–∏–º–µ—Ç–æ–¥–∏: –ß–æ–≥–æ —Å–ª—ñ–¥ —É–Ω–∏–∫–∞—Ç–∏
- **–ú–µ—Ç–æ–¥ –£–ª—é–±–ª–µ–Ω–æ—ó –£—Ç–∏–ª—ñ—Ç–∏:** –ù–µ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ª–∏—à–µ `top`! –í–∏ –∑–∞–≤–∂–¥–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –≤—Å—ñ —á–æ—Ç–∏—Ä–∏ —Ä–µ—Å—É—Ä—Å–∏ (CPU, RAM, Disk, Net), –æ—Å–∫—ñ–ª—å–∫–∏ –ø—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ —Ç–∞–º, –¥–µ –≤–∏ –æ—á—ñ–∫—É—î—Ç–µ.
- **–ú–µ—Ç–æ–¥ –ü–µ—Ä–µ–±–æ—Ä—É:** –•–∞–æ—Ç–∏—á–Ω–∞ –∑–º—ñ–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –±–µ–∑ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–∏—á–∏–Ω–∏ ‚Äî —Ü–µ –≤—Ç—Ä–∞—Ç–∞ —á–∞—Å—É. –°–ø–æ—á–∞—Ç–∫—É –∞–Ω–∞–ª—ñ–∑ (USE), –ø–æ—Ç—ñ–º –∑–º—ñ–Ω–∏!

---

## ‚úÖ –ü—ñ–¥—Å—É–º–æ–∫: –î—É–º–∞–π —è–∫ –î–µ—Ç–µ–∫—Ç–∏–≤

–ï—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ —à–≤–∏–¥–∫–æ–¥—ñ—ó ‚Äî —Ü–µ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–π –ø—Ä–æ—Ü–µ—Å, –∞ –Ω–µ —Ö–∞–æ—Ç–∏—á–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —É—Ç–∏–ª—ñ—Ç.

1.  **–ü–æ—á–∏–Ω–∞–π –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:** –ß–∏ —î –ø—Ä–æ–±–ª–µ–º–∞? (–ú–µ—Ç–æ–¥ **RED**). –î–∏–≤–∏—Å—å –Ω–∞ –ø–µ—Ä—Å–µ–Ω—Ç–∏–ª—ñ (`P95`/`P99`), –∞ –Ω–µ –Ω–∞ —Å–µ—Ä–µ–¥–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è.
2.  **–ó–Ω–∞–π–¥–∏ "–≤—É–∑—å–∫–µ –º—ñ—Å—Ü–µ":** –Ø–∫–∏–π —Ä–µ—Å—É—Ä—Å –≤–∏—á–µ—Ä–ø–∞–Ω–æ? (–ú–µ—Ç–æ–¥ **USE**). –®—É–∫–∞–π **Saturation (–Ω–∞—Å–∏—á–µ–Ω–Ω—è)**, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –≤–∏—Å–æ–∫—É —É—Ç–∏–ª—ñ–∑–∞—Ü—ñ—é.
3.  **–ó–Ω–∞–π–¥–∏ –≤–∏–Ω—É–≤–∞—Ç—Ü—è:** –Ø–∫–∏–π –ø—Ä–æ—Ü–µ—Å —Å—Ç–≤–æ—Ä—é—î –ø—Ä–æ–±–ª–µ–º—É? (–ü–æ-–ø—Ä–æ—Ü–µ—Å–Ω—ñ —É—Ç–∏–ª—ñ—Ç–∏: `pidstat`, `iotop`, `top`).

–°–∏—Å—Ç–µ–º–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ ‚Äî —Ü–µ –¥–µ—Ç–µ–∫—Ç–∏–≤–Ω–∞ —Ä–æ–±–æ—Ç–∞: –ø–æ—á–Ω—ñ—Ç—å —ñ–∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —Å–≤—ñ–¥—á–µ–Ω—å (**RED**), –ª–æ–∫–∞–ª—ñ–∑—É–π—Ç–µ –º—ñ—Å—Ü–µ –∑–ª–æ—á–∏–Ω—É (**USE**) —ñ –∑–Ω–∞–π–¥—ñ—Ç—å –≤–∏–Ω—É–≤–∞—Ç—Ü—è (–ø–æ-–ø—Ä–æ—Ü–µ—Å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞).

---

# üèÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞–Ω–∏–π

## –†–æ–∑–¥—ñ–ª 1: –û—Å–Ω–æ–≤–∏ —Ç–∞ –¢–µ–æ—Ä—ñ—è –®–≤–∏–¥–∫–æ–¥—ñ—ó

**1. –ù–∞–∑–≤—ñ—Ç—å –¥–≤–∞ –∫–ª—é—á–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —à–≤–∏–¥–∫–æ–¥—ñ—ó (Performance).**
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:** –ü—Ä–æ–ø—É—Å–∫–Ω–∞ –ó–¥–∞—Ç–Ω—ñ—Å—Ç—å (Throughput) —Ç–∞ –õ–∞—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å (Latency).

**2. –Ø–∫–∞ –æ—Å–Ω–æ–≤–Ω–∞ –º–µ—Ç–∞ –∞–Ω–∞–ª—ñ–∑—É —à–≤–∏–¥–∫–æ–¥—ñ—ó –∑–∞ –º–µ—Ç–æ–¥–æ–º USE?**
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:** –®–≤–∏–¥–∫–æ –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –ø—Ä–æ–±–ª–µ–º–Ω–∏–π —Ä–µ—Å—É—Ä—Å (–≤—É–∑—å–∫–µ –º—ñ—Å—Ü–µ: CPU, RAM, Disk, Net), —è–∫–∏–π –≥–∞–ª—å–º—É—î —Å–∏—Å—Ç–µ–º—É, –ø–µ—Ä–µ–≤—ñ—Ä—è—é—á–∏ –π–æ–≥–æ Utilization, Saturation —Ç–∞ Errors.

**3. –ß–∏–º –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –º–µ—Ç–æ–¥ USE –≤—ñ–¥ –º–µ—Ç–æ–¥—É RED?**
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:** USE –∞–Ω–∞–ª—ñ–∑—É—î —Å–∏—Å—Ç–µ–º—É –∑—Å–µ—Ä–µ–¥–∏–Ω–∏ (–ø–æ —Ä–µ—Å—É—Ä—Å–∞—Ö). RED ‚Äî —ñ–∑–∑–æ–≤–Ω—ñ (–∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É —Å–µ—Ä–≤—ñ—Å—É).

**4. –ß–æ–º—É "–ê–Ω—Ç–∏–º–µ—Ç–æ–¥–∏" —î –Ω–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º–∏?**
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:** –í–æ–Ω–∏ –Ω–µ –¥–∞—é—Ç—å —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–∏—á–∏–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∏ —ñ –ø—Ä–∏–∑–≤–æ–¥—è—Ç—å –¥–æ —Ö–∞–æ—Ç–∏—á–Ω–∏—Ö –∑–º—ñ–Ω –∞–±–æ –Ω–µ–ø–æ–≤–Ω–æ—ó –∫–∞—Ä—Ç–∏–Ω–∏.

## –†–æ–∑–¥—ñ–ª 2: –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –†–µ—Å—É—Ä—Å—ñ–≤ (–ú–µ—Ç–æ–¥ USE)

### CPU (–ü—Ä–æ—Ü–µ—Å–æ—Ä)
**1. `id` (idle) –¥–æ—Ä—ñ–≤–Ω—é—î 0%. –ü—Ä–æ —â–æ —Ü–µ —Å–≤—ñ–¥—á–∏—Ç—å?**
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:** –ü—Ä–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞ (–≤–∏—Å–æ–∫–∞ **Utilization**).

**2. –©–æ —Ç–∞–∫–µ Load Average (LA) —ñ —á–æ–º—É –π–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–æ—Ä–º–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —è–¥–µ—Ä?**
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:** LA ‚Äì —Å–µ—Ä–µ–¥–Ω—è –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—ñ–≤ –≤ —á–µ—Ä–∑—ñ. –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–æ—Ç—Ä—ñ–±–Ω–∞, –±–æ LA > –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —è–¥–µ—Ä –æ–∑–Ω–∞—á–∞—î **Saturation**.

**3. –Ø–∫–∏–π –ø–æ–∫–∞–∑–Ω–∏–∫ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞ –≤–∫–∞–∑—É—î –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏ –∑ –î–∏—Å–∫–æ–º?**
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:** `%wa` (wait).

### RAM (–ü–∞–º'—è—Ç—å)
**1. `Cache` –∑–∞–π–º–∞—î 80% RAM. –¶–µ –ø—Ä–æ–±–ª–µ–º–∞?**
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:** –ù—ñ, —Ü–µ –æ–∑–Ω–∞–∫–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ —è–¥—Ä–æ–º.

**2. –£ —á–æ–º—É –Ω–µ–¥–æ–ª—ñ–∫ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Swap —ñ —è–∫–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–∞ —Ü–µ –≤–∫–∞–∑—É—î?**
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:** –ù–µ–¥–æ–ª—ñ–∫ ‚Äî —Ä—ñ–∑–∫–µ –ø–∞–¥—ñ–Ω–Ω—è —à–≤–∏–¥–∫–æ–¥—ñ—ó. –ü–∞—Ä–∞–º–µ—Ç—Ä–∏: `si` (swap in) —Ç–∞ `so` (swap out) –≤ `vmstat`.

**3. –©–æ —Ç–∞–∫–µ OOM-killer —ñ —è–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –π–æ–≥–æ —Å–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è?**
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:** –ú–µ—Ö–∞–Ω—ñ–∑–º —è–¥—Ä–∞ –¥–ª—è –≤–±–∏–≤—Å—Ç–≤–∞ –ø—Ä–æ—Ü–µ—Å—ñ–≤ –ø—Ä–∏ –Ω–µ—Å—Ç–∞—á—ñ –ø–∞–º'—è—Ç—ñ. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞: `dmesg | grep killed`.

### Disk I/O (–î–∏—Å–∫–æ–≤–∞ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∞)
**1. –Ø–∫–∏–π –ø–æ–∫–∞–∑–Ω–∏–∫ –≤ `iostat` –≤–∫–∞–∑—É—î –Ω–∞ Saturation –Ω–∞ –¥–∏—Å–∫—É?**
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:** `avgqu-sz` (—Å–µ—Ä–µ–¥–Ω—è –¥–æ–≤–∂–∏–Ω–∞ —á–µ—Ä–≥–∏). –ù–æ—Ä–º–∞–ª—å–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è: <1.

**2. –ß–æ–º—É 95% `%util` –Ω–∞ –¥–∏—Å–∫—É –≥—ñ—Ä—à–µ, –Ω—ñ–∂ 95% `%us` –Ω–∞ CPU?**
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:** 95% `%us` –Ω–∞ CPU ‚Äî –∫–æ—Ä–∏—Å–Ω–∞ —Ä–æ–±–æ—Ç–∞. 95% `%util` –Ω–∞ –¥–∏—Å–∫—É ‚Äî –¥–∏—Å–∫ –Ω–µ –≤—Å—Ç–∏–≥–∞—î —ñ —î –≤—É–∑—å–∫–∏–º –º—ñ—Å—Ü–µ–º.

**3. –Ø–∫–∞ –ø–æ-–ø—Ä–æ—Ü–µ—Å–Ω–∞ —É—Ç–∏–ª—ñ—Ç–∞ –¥–æ–ø–æ–º–∞–≥–∞—î –∑–Ω–∞–π—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –ø—Ä–æ—Ü–µ—Å, —è–∫–∏–π —Å–ø—Ä–∏—á–∏–Ω—è—î –≤–∏—Å–æ–∫–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –î–∏—Å–∫?**
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:** `iotop`.

### Network I/O (–ú–µ—Ä–µ–∂–∞)
**1. –ó—Ä–æ—Å—Ç–∞–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ `dropped` (–≤—ñ–¥–∫–∏–Ω—É—Ç–∏—Ö) –ø–∞–∫–µ—Ç—ñ–≤, —è–∫–∏–π —Ü–µ –ø–æ–∫–∞–∑–Ω–∏–∫ –∑–∞ –º–µ—Ç–æ–¥–æ–º USE (Utilization, Saturation, Errors)?**
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:** **Saturation** (—è–∫—â–æ —á–µ—Ä–≥–∏ –ø–µ—Ä–µ–ø–æ–≤–Ω—é—é—Ç—å—Å—è) –∞–±–æ **Errors** (—è–∫—â–æ –ø–∞–∫–µ—Ç–∏ –≤—ñ–¥–∫–∏–¥–∞—é—Ç—å—Å—è —á–µ—Ä–µ–∑ –ø–æ–º–∏–ª–∫—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó).

**2. –ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥ –∫–æ–º–∞–Ω–¥–∏, —è–∫–∞ –¥–æ–∑–≤–æ–ª—è—î –∑–Ω–∞–π—Ç–∏ PID (—ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –ø—Ä–æ—Ü–µ—Å—É) –ø—Ä–æ–≥—Ä–∞–º–∏, —è–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø–µ–≤–Ω–∏–π –º–µ—Ä–µ–∂–µ–≤–∏–π –ø–æ—Ä—Ç (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 80).**
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:** `ss -tulpn | grep :80` –∞–±–æ `lsof -i :80`.

## –†–æ–∑–¥—ñ–ª 3: –ö–ª—é—á–æ–≤—ñ –ö–æ–Ω—Ü–µ–ø—Ü—ñ—ó

*   **–©–æ –∫—Ä–∞—â–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —è–∫—ñ—Å—Ç—å –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è, –Ω—ñ–∂ –°–µ—Ä–µ–¥–Ω—ñ–π –ß–∞—Å –í—ñ–¥–ø–æ–≤—ñ–¥—ñ?**
    > **–ü–µ—Ä—Å–µ–Ω—Ç–∏–ª—ñ**, –æ—Å–æ–±–ª–∏–≤–æ **P95** —Ç–∞ **P99**, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–∏ –≤—Ä–∞—Ö–æ–≤—É—é—Ç—å "–¥–æ–≤–≥–∏–π —Ö–≤—ñ—Å—Ç" –ø–æ–≤—ñ–ª—å–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤, —è–∫—ñ –ø—Å—É—é—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π –¥–æ—Å–≤—ñ–¥, –Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ —Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è, —è–∫–µ —ó—Ö –ø—Ä–∏—Ö–æ–≤—É—î.

*   **–Ø–∫–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä CPU –Ω–∞–ø—Ä—è–º—É –≤–∫–∞–∑—É—î –Ω–∞ –ø—Ä–æ–±–ª–µ–º—É –∑ I/O (Disk/Network)?**
    > –ü–∞—Ä–∞–º–µ—Ç—Ä **`wa` (wait)**, —è–∫–∏–π –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —á–∞—Å, –∫–æ–ª–∏ CPU –ø—Ä–æ—Å—Ç–æ—é—î –≤ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—ñ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ–π –≤–≤–æ–¥—É/–≤–∏–≤–æ–¥—É. –í–∏—Å–æ–∫–∏–π `wa` ‚Äî —Ü–µ –º–∞–π–∂–µ –∑–∞–≤–∂–¥–∏ –æ–∑–Ω–∞–∫–∞ –ø–æ–≤—ñ–ª—å–Ω–æ–≥–æ –¥–∏—Å–∫–∞ –∞–±–æ –º–µ—Ä–µ–∂—ñ.

*   **–ß–∏–º –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è Utilization –≤—ñ–¥ Saturation (–∑–∞ USE-–º–µ—Ç–æ–¥–æ–º)?**
    > **Utilization (–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è)** –ø–æ–∫–∞–∑—É—î, –Ω–∞—Å–∫—ñ–ª—å–∫–∏ —Ä–µ—Å—É—Ä—Å –∑–∞–π–Ω—è—Ç–∏–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, CPU 100% `us`). –¶–µ –º–æ–∂–µ –±—É—Ç–∏ –Ω–æ—Ä–º–æ—é.
    > **Saturation (–Ω–∞—Å–∏—á–µ–Ω–Ω—è)** –ø–æ–∫–∞–∑—É—î, –Ω–∞—Å–∫—ñ–ª—å–∫–∏ —Ä–æ–±–æ—Ç–∞ —Å—Ç–æ—ó—Ç—å —É —á–µ—Ä–∑—ñ, –æ—á—ñ–∫—É—é—á–∏ –Ω–∞ —Ä–µ—Å—É—Ä—Å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏—Å–æ–∫–∏–π `Load Average` –∞–±–æ `avgqu-sz`). **Saturation** –º–∞–π–∂–µ –∑–∞–≤–∂–¥–∏ —î –ø—Ä—è–º–∏–º —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –ø—Ä–æ–±–ª–µ–º–∏ –∑—ñ —à–≤–∏–¥–∫–æ–¥—ñ—î—é.

*   **–©–æ —î –∫—Ä–∏—Ç–∏—á–Ω–æ—é –æ–∑–Ω–∞–∫–æ—é —Ç–æ–≥–æ, —â–æ —Å–∏—Å—Ç–µ–º—ñ –Ω–µ –≤–∏—Å—Ç–∞—á–∞—î RAM, —ñ —è–∫ —Ü–µ –º–æ–∂–µ –∑–∞–∫—ñ–Ω—á–∏—Ç–∏—Å—è?**
    > –ö—Ä–∏—Ç–∏—á–Ω–∞ –æ–∑–Ω–∞–∫–∞ ‚Äî –∞–∫—Ç–∏–≤–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è **Swap** (–ø–∞—Ä–∞–º–µ—Ç—Ä–∏ `si`/`so` –≤ `vmstat` —Å—Ç–∞–±—ñ–ª—å–Ω–æ –±—ñ–ª—å—à—ñ –∑–∞ –Ω—É–ª—å). –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ —Å–∏—Å—Ç–µ–º–∞ –∑–º—É—à–µ–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–æ–≤—ñ–ª—å–Ω–∏–π –¥–∏—Å–∫ –∑–∞–º—ñ—Å—Ç—å —à–≤–∏–¥–∫–æ—ó RAM. –ó–∞–∫—ñ–Ω—á–∏—Ç–∏—Å—è —Ü–µ –º–æ–∂–µ —Å–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è–º **OOM-killer** (Out Of Memory killer), —è–∫–∏–π –∞–≤–∞—Ä—ñ–π–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å –Ω–∞–π–±—ñ–ª—å—à "–Ω–µ–Ω–∞–∂–µ—Ä–ª–∏–≤–∏–π" –ø—Ä–æ—Ü–µ—Å –¥–ª—è –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ.
