
### **Створення Архіву tar**

**1. Перебуваючи в кореневій директорії створити у своєму домашньому каталозі tar-архів etc.tar директорії налаштувань /etc не використовуючи стиснення.**

*   **Команда:**
    ```bash
    tar -cf ~/etc.tar /etc
    ```
*   **Пояснення:**
    *   `tar`: команда для роботи з tar-архівами.
    *   `-c` (`--create`): створює новий архів.
    *   `-f` (`--file`): вказує, що наступним аргументом буде ім'я файлу архіву (`~/etc.tar`). `~` — це скорочення для вашої домашньої директорії.
    *   `/etc`: директорія, яку потрібно заархівувати. Ми не використовуємо опції стиснення (`-z` для gzip, `-j` для bzip2), тому архів буде нестиснутим.

**2. Перебуваючи в кореневій директорії створити у своєму домашньому каталозі tar-архів etc.tgz директорії налаштувань /etc, використовуючи алгоритм стиснення gzip.**

*   **Команда:**
    ```bash
    tar -czf ~/etc.tgz /etc
    ```
*   **Пояснення:**
    *   Додається опція `-z` (`--gzip`), яка вказує `tar` стиснути архів за допомогою компресора `gzip`.
    *   Розширення `.tgz` є скороченням для `.tar.gz` і часто використовується для таких архівів.

**3. Перевірте, що файли були створені в потрібній директорії.**

*   **Команда:**
    ```bash
    ls -l ~/
    ```
*   **Пояснення:**
    *   `ls`: команда для перегляду вмісту директорії.
    *   `-l`: опція для виведення детального списку, що включає розмір файлу, дату створення та права доступу.
    *   `~/`: шлях до вашої домашньої директорії. У виводі ви повинні побачити файли `etc.tar` та `etc.tgz`.

**4. Подивіться заголовок (метаінформацію, інформацію про вміст) файлів ~/etc.tgz та ~/etc.tar**

*   **Команди:**
    ```bash
    tar -tvf ~/etc.tar
    tar -tvf ~/etc.tgz
    ```
*   **Пояснення:**
    *   `-t` (`--list`): опція для перегляду вмісту архіву без його розпакування.
    *   `-v` (`--verbose`): опція для виведення детальної інформації про файли в архіві (аналогічно до виводу `ls -l`).
    *   Вивід обох команд покаже список файлів та директорій, що містяться в архівах.

**5. Порівняйте розмір файла ~/etc.tgz та ~/etc.tar і директорії /etc (в байтах)**

*   **Команди:**
    ```bash
    ls -l ~/etc.tar ~/etc.tgz
    du -sb /etc
    ```
*   **Пояснення:**
    *   `ls -l`: покаже розмір файлів `etc.tar` та `etc.tgz` у байтах.
    *   `du -sb /etc`:
        *   `du`: утиліта для перегляду використання дискового простору.
        *   `-s` (`--summarize`): показує тільки загальний розмір.
        *   `-b` (`--bytes`): показує розмір у байтах.
    *   **Висновок:** Ви побачите, що `etc.tar` трохи більший за реальний розмір `/etc` через метадані. `etc.tgz` буде значно меншим за `etc.tar`, оскільки дані в ньому стиснуті.

---

### **Перегляд вмісту архіву tar та розпакування даних**

**1. Перегляньте вміст архіву ~/etc.tgz. Зверніть увагу на відсутність початкового слеша. Подумайте чому так?**

*   **Команда:**
    ```bash
    tar -tvf ~/etc.tgz
    ```
*   **Пояснення:**
    `tar` за замовчуванням видаляє початковий слеш (`/`) з абсолютних шляхів для безпеки. Це зроблено для того, щоб при розпакуванні архіву файли не перезаписали системні файли в кореневій директорії. Наприклад, якби шлях `etc/passwd` зберігався як `/etc/passwd`, то при розпакуванні він би замінив ваш системний файл `/etc/passwd`, що могло б призвести до збою системи.

**2. Перебуваючи в кореневій директорії, розпакувати архів в директорію ~/backup. Зробіть висновок чому при архівації tar видаляє початковий слеш.**

*   **Команди:**
    ```bash
    mkdir ~/backup
    tar -xvf ~/etc.tgz -C ~/backup
    ```
*   **Пояснення:**
    *   `mkdir ~/backup`: створюємо директорію для розпакування.
    *   `tar -xvf`:
        *   `-x` (`--extract`): розпаковує архів.
        *   `-C ~/backup`: вказує `tar` змінити директорію на `~/backup` перед розпакуванням.
    *   **Висновок:** Завдяки тому, що `tar` видалив початковий слеш, у директорії `~/backup` була створена нова директорія `etc`, і файли були розпаковані в `~/backup/etc`. Якби слеш залишився, `tar` спробував би розпакувати файли в системну директорію `/etc`, що є небезпечним.

**3. Перегляньте вміст архіву ~/etc.tgz і знайдіть файли, які починаються на "pass"**

*   **Команда:**
    ```bash
    tar -tvf ~/etc.tgz | grep 'etc/pass'
    ```
*   **Пояснення:**
    *   `tar -tvf ~/etc.tgz`: виводить список файлів в архіві.
    *   `|`: оператор "пайп", який передає вивід першої команди на вхід другій.
    *   `grep 'etc/pass'`: шукає рядки, які починаються  з `etc/pass`. Це дозволяє знайти файли типу `passwd`, `passwd-` тощо.

---

### **Створення Стиснутого архіву Стискач gzip (gunzip)**

**1. Спробуйте створити архів директорії ~/ за допомогою GNU-zip. Зробіть висновки про роботу компресора.**

*   **Команда:**
    ```bash
    gzip ~/
    ```
*   **Результат і висновок:**
    Команда видасть помилку, наприклад: `gzip: ~/ is a directory -- ignored`.
    **Висновок:** Компресор `gzip` призначений для стиснення окремих файлів, а не директорій. Щоб стиснути директорію, її спочатку потрібно "запакувати" в один файл за допомогою `tar`, а вже потім цей файл стискати за допомогою `gzip`.

**2. Стисніть архів ~/etc.tar, не видаляючі файли, які архівуєте! (знайдіть опцію) в файл ~/etc.tar.gz**

*   **Команда:**
    ```bash
    gzip -ck ~/etc.tar > ~/etc.tar.gz
    ```
*   **Пояснення:**
    *   Опція `-c` (`--stdout`) наказує `gzip` виводити результат стиснення в стандартний потік виводу (на екран), а не замінювати вихідний файл.
    *   `>`: оператор перенаправлення, який записує потік виводу у вказаний файл (`~/etc.tar.gz`), створюючи його. Таким чином, оригінальний `~/etc.tar` залишається недоторканим.

**3. Порівняйте отримані ~/etc.tar.gz з архівом ~/etc.tgz (із пункту 1.2) по розміру та по заголовку.**

*   **Команди:**
    ```bash
    ls -l ~/etc.tar.gz ~/etc.tgz
    # Для перегляду вмісту (заголовку)
    tar -tvf ~/etc.tar.gz
    tar -tvf ~/etc.tgz
    ```
*   **Висновок:**
    Розміри файлів та їх вміст (список файлів) будуть практично ідентичними. Це тому, що обидва файли є `tar`-архівом директорії `/etc`, стиснутим за допомогою `gzip`. Різниця в назві (`.tgz` vs `.tar.gz`) не впливає на вміст.

**4. Спробуйте вивести вміст архіву ~/etc.tar.gz на екран.**

*   **Команда:**
    ```bash
    zcat ~/etc.tar.gz
    ```
*   **Пояснення:**
    *   `zcat` (або `gzcat`) — це утиліта, яка розпаковує gzip-архів і виводить його вміст на екран, не створюючи файлів на диску.
    *   Ви побачите на екрані бінарний вміст файлу `etc.tar`, який буде виглядати як набір незрозумілих символів, оскільки це не текстовий, а архівний формат.

**5. Скопіюйте ~/etc.tar.gz в файл ~/etc.tar.arch. Порівняйте вивід заголовку і зробіть висновки про вплив розширення файлу на його вміст.**

*   **Команди:**
    ```bash
    cp ~/etc.tar.gz ~/etc.tar.arch
    file ~/etc.tar.gz
    file ~/etc.tar.arch
    ```
*   **Пояснення:**
    *   `cp`: копіює файл.
    *   `file`: утиліта, яка визначає тип файлу, аналізуючи його вміст (так звані "магічні числа"), а не розширення.
    *   **Висновок:** Обидві команди `file` покажуть, що це `gzip compressed data`. Це демонструє, що розширення файлу (`.gz` чи `.arch`) є лише угодою для зручності користувача та програм, але операційна система та утиліти визначають тип файлу за його внутрішньою структурою.

**6. Спробуйте розпакувати вміст ~/etc.tar.gz в директорію ~/gzip. Видаляючи вихідні файли.**

*   **Команда:**
    ```bash
    # Спочатку розпакуємо сам gzip-архів
    gunzip ~/etc.tar.gz
    # Тепер ми маємо ~/etc.tar. Розпакуємо його
    mkdir ~/gzip
    tar -xf ~/etc.tar -C ~/gzip
    # І видалимо залишений tar
    rm ~/etc.tar
    ```
*   **Пояснення:**
    *   `gunzip ~/etc.tar.gz`: розпаковує `.gz` архів, створюючи `~/etc.tar` і **видаляючи** вихідний `~/etc.tar.gz`.
    *   Далі ми розпаковуємо `tar`-архів у потрібну директорію.

**7. Розпакуйте вміст ~/etc.tar.arch . Зробіть висновок про вплив розширення файлу на роботу програм.**

*   **Команда:**
    ```bash
    gunzip ~/etc.tar.arch
    ```
*   **Пояснення:**
    Команда успішно виконається і створить файл `~/etc.tar`.
    *   **Висновок:** Програма `gunzip` аналізує вміст файлу, а не його назву. Оскільки `etc.tar.arch` за своєю суттю є `gzip`-архівом, `gunzip` розпізнає його і коректно розпаковує. Це ще раз підтверджує, що для утиліт важливий формат даних, а не розширення файлу.

---

### **Архіватор zip**

**1. Встановіть програми zip та unzip**

*   **Команда:**
    ```bash
    sudo yum install zip unzip
    ```
*   **Пояснення:**
    *   `sudo`: виконує команду з правами суперкористувача (адміністратора).
    *   `yum install`: команда для встановлення пакунків у дистрибутивах Linux, що базуються на Red Hat (CentOS, Fedora). Для Debian/Ubuntu використовувалася б команда `sudo apt-get install zip unzip`.

**2. Створіть в своєму домашньому каталозі zip-архів etc.zip директорії налаштувань /etc**

*   **Команда:**
    ```bash
    zip -r ~/etc.zip /etc
    ```
*   **Пояснення:**
    *   `zip`: команда для створення zip-архівів.
    *   `-r`: опція рекурсивного додавання. Вона необхідна для того, щоб заархівувати не тільки файли в `/etc`, але й усі вкладені директорії та їх вміст.

**3. Порівняйте отримані архів etc.zip та ~/etc.tgz (з пункту 1.2) по розміру і по заголовку.**

*   **Команди:**
    ```bash
    ls -l ~/etc.zip ~/etc.tgz
    zipinfo ~/etc.zip
    tar -tvf ~/etc.tgz
    ```
*   **Пояснення:**
    *   Розміри файлів, ймовірно, будуть схожими, але не однаковими, оскільки `zip` та `gzip` використовують різні алгоритми стиснення та зберігають різну метаінформацію.
    *   `zipinfo`: утиліта для перегляду вмісту та метаданих `zip`-архіву.

**4. Дізнайтесь ступінь стиснення архіву і початковий розмір.**

*   **Команда:**
    ```bash
    zipinfo ~/etc.zip
    ```
*   **Пояснення:**
    Вивід `zipinfo` в останньому рядку показує загальний початковий розмір, розмір архіву та ступінь стиснення у відсотках.

**5. Спробуйте вивести вміст архіву (zcat).**

*   **Команда:**
    ```bash
    zcat ~/etc.zip
    ```
*   **Результат і висновок:**
    Команда, швидше за все, видасть помилку або нечитабельний результат. `zcat` призначений для формату `gzip`, а не `zip`. Це показує, що різні формати архівів вимагають своїх спеціалізованих інструментів.

**6. Перегляньте вміст архіву etc.zip (отримати список файлів, не розпаковуючи)**

*   **Команда:**
    ```bash
    unzip -l ~/etc.zip
    ```
*   **Пояснення:**
    *   `unzip`: утиліта для роботи з `zip`-архівами.
    *   `-l`: опція для виведення списку файлів в архіві без їх розпакування.

**7. Розпакуйте архів etc.zip в директорію ~/zip.**

*   **Команди:**
    ```bash
    mkdir ~/zip
    unzip ~/etc.zip -d ~/zip
    ```
*   **Пояснення:**
    *   `-d ~/zip`: опція, яка вказує директорію (`~/zip`), куди потрібно розпакувати файли.

**8. Приберіть за собою та видаліть непотрібні директорії та архіви.**

*   **Команда:**
    ```bash
    rm -rf ~/etc.tar ~/etc.tgz ~/etc.tar.gz ~/etc.tar.arch ~/etc.zip ~/backup ~/gzip ~/zip
    ```
*   **Пояснення:**
    *   `rm`: команда для видалення файлів та директорій.
    *   `-r`: рекурсивне видалення (необхідне для директорій).
    *   `-f`: форсоване видалення (не питати підтвердження для кожного файлу). Будьте обережні з цією командою
