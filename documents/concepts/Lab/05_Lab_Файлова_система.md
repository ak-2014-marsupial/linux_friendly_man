### 2. Створити один основний розділ розміром 600 МБ і один логічний розділ на весь об'єм, що залишився на новому диску. В результаті, повинні з'явитися наступні блочні пристрої: sdb1, sdb2, sdb5.
### В якості відповіді введіть результат роботи послідовності команд: (хеш виду 31***87)

### lsblk -l | grep ^sdb | awk '{print $1 $4}' | tr -d '.,' | md5sum | cut -c 10-16

----
Перед тим, як почати роботу з розділами, важливо правильно визначити ім'я диска. Ось кілька команд, які допоможуть це зробити:

*   `lsblk`: Показує всі блокові пристрої (диски та їх розділи) у вигляді дерева. Це найзручніший спосіб.
*   `sudo fdisk -l`: Виводить детальну інформацію про таблиці розділів усіх дисків.
*   `sudo parted -l`: Ще одна альтернатива для перегляду інформації про диски та розділи.


Для створення логічного розділу (`sdb5`) спочатку потрібно створити "контейнер" для нього — розширений (extended) розділ (`sdb2`). Логічні розділи існують лише всередині розширених. Основний розділ (`sdb1`) створюється безпосередньо на диску.

---

### Крок 1: Запуск `fdisk` для роботи з диском

**Команда:**
```bash
sudo fdisk /dev/sdb
```

**Пояснення:**
*   `sudo`: Команда виконується з правами суперкористувача (root), оскільки операції з дисковими розділами є системними і вимагають підвищених привілеїв.
*   `fdisk`: Назва консольної утиліти для керування таблицями розділів диска.
*   `/dev/sdb`: Шлях до другого фізичного диска в системі. **Дуже важливо** переконатися, що `sdb` — це саме той диск, з яким ви хочете працювати. Помилка у назві диска може призвести до втрати даних на іншому носії.

Після вводу цієї команди ви потрапите в інтерактивний режим утиліти `fdisk`.

---

### Крок 2: Створення основного розділу (sdb1) на 600 МБ

**Дії в `fdisk`:**
1.  Натисніть `n` (new), щоб створити новий розділ.
2.  Натисніть `p` (primary), щоб вказати тип розділу як основний.
3.  Натисніть `1`, щоб задати номер розділу.
4.  Натисніть `Enter`, щоб погодитись з першим доступним сектором за замовчуванням.
5.  Введіть `+600M`, щоб вказати розмір розділу 600 мегабайт.

**Пояснення:**
Ви створюєте перший основний розділ. `fdisk` послідовно запитує тип, номер та розмір. Вказавши `+600M`, ви даєте команду створити розділ розміром рівно 600 МБ, починаючи від першого вільного сектора. Цей розділ отримає назву `/dev/sdb1`.

---

### Крок 3: Створення розширеного розділу (sdb2) на весь залишок місця

**Дії в `fdisk`:**
1.  Знову натисніar `n` (new).
2.  Натисніть `e` (extended), щоб вказати тип розділу як розширений.
3.  Натисніть `2`, щоб задати номер розділу.
4.  Натисніть `Enter` двічі, щоб погодитись з першим доступним сектором і останнім доступним сектором. Це змусить розділ зайняти все місце, що залишилося на диску.

**Пояснення:**
Розширений розділ — це спеціальний тип основного розділу, який слугує контейнером для логічних розділів. Ви не можете форматувати його або зберігати на ньому дані напряму. Створюючи його на весь залишок місця, ви готуєте плацдарм для майбутнього логічного розділу. Цей розділ отримає назву `/dev/sdb2`.

---

### Крок 4: Створення логічного розділу (sdb5)

**Дії в `fdisk`:**
1.  І ще раз натисніть `n` (new).
2.  `fdisk` автоматично запропонує створити логічний розділ (`logical`), оскільки ви вже знаходитесь в контексті розширеного розділу.
3.  Натисніть `Enter` двічі, щоб погодитись використати весь доступний простір всередині розширеного розділу.

**Пояснення:**
Тепер всередині "контейнера" `sdb2` ви створюєте логічний розділ. Нумерація логічних розділів завжди починається з `5`, тому перший логічний розділ на диску отримає назву `/dev/sdb5`. Оскільки ви погодилися з розміром за замовчуванням, він займе весь простір, виділений для розширеного розділу.

---

### Крок 5: Збереження змін та вихід

**Дія в `fdisk`:**
*   Натисніть `w` (write).

**Пояснення:**
До цього моменту жодні зміни на диск не були записані. Команда `w` записує нову таблицю розділів на диск і виходить з утиліти `fdisk`. **Це незворотна дія.** Якщо ви не впевнені, ви можете натиснути `q` (quit), щоб вийти без збереження.

---

### Результат

Після виконання команди `w` система оновить інформацію про розділи. Ви можете перевірити результат командою `lsblk`:

```bash
lsblk /dev/sdb
```

Вивід повинен бути приблизно таким:

```
NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT
sdb      8:16   0   ...G  0 disk
├─sdb1   8:17   0   600M  0 part
└─sdb2   8:18   0     1K  0 part
  └─sdb5 8:21   0  ...G  0 part
```

Це показує, що ви успішно створили:
*   `sdb1`: основний розділ на 600 МБ.
*   `sdb2`: розширений розділ-контейнер.
*   `sdb5`: логічний розділ, що займає залишок місця всередині `sdb2`.

---

### 3.     Створіть файлову систему ext4 на кожному із нових розділів.
###    Створити каталоги /media/1 і /media/5 та примонтувати до них відповідні за номером розділи так, щоб файлова система на sdb1 була доступна лише для читання, а час останнього доступу до файлів на sdb5 не оновлювався.

В якості відповіді введіть результат роботи наступної послідовності команд: (хеш виду ef****3 або 0f****e)

mount | grep -P '^/dev/sdb\d' | sort | md5sum | cut -c 7-13

---

#### Крок 1: Створення файлової системи ext4

Спочатку потрібно відформатувати створені розділи, тобто створити на них файлову систему.

**Команди:**
```bash
sudo mkfs.ext4 /dev/sdb1
sudo mkfs.ext4 /dev/sdb5
```

**Пояснення:**
*   `sudo`: Команди виконуються з правами суперкористувача, оскільки форматування розділів — це системна операція.
*   `mkfs.ext4`: Це команда для створення (`make filesystem`) файлової системи типу `ext4`.
*   `/dev/sdb1` та `/dev/sdb5`: Це блокові пристрої ваших нових розділів, на яких буде створено файлову систему.

**Увага:** Ця операція видаляє всі дані, які могли бути на розділі. Оскільки розділи нові, це безпечно.

---

#### Крок 2: Створення каталогів для монтування

Далі потрібно створити точки монтування — каталоги, через які ви будете отримувати доступ до файлових систем на розділах.

**Команда:**
```bash
sudo mkdir /media/1 /media/5
```

**Пояснення:**
*   `mkdir`: Стандартна команда для створення каталогів (`make directory`).
*   `/media/1` та `/media/5`: Шляхи до нових каталогів. Директорія `/media` зазвичай використовується для тимчасового підключення знімних носіїв або розділів. `sudo` потрібне для створення каталогів поза вашою домашньою директорією.

---

#### Крок 3: Монтування розділів із заданими опціями

Тепер потрібно примонтувати розділи до створених каталогів із зазначеними умовами.

**Монтування sdb1 (лише для читання):**
```bash
sudo mount -o ro /dev/sdb1 /media/1
```

**Пояснення:**
*   `mount`: Основна команда для монтування файлових систем.
*   `-o ro`: Ключ `-o` (`options`) дозволяє вказати додаткові параметри. `ro` означає "read-only" (лише для читання). Будь-які спроби записати дані в каталог `/media/1` будуть відхилені.
*   `/dev/sdb1`: Пристрій, що монтується.
*   `/media/1`: Точка монтування.

**Монтування sdb5 (без оновлення часу доступу):**
```bash
sudo mount -o noatime /dev/sdb5 /media/5
```

**Пояснення:**
*   `-o noatime`: Ця опція вимикає оновлення метаданих файлу про час останнього доступу (`access time`) кожного разу, коли файл читається. Це зменшує кількість операцій запису на диск і може трохи підвищити продуктивність, особливо на системах з великою кількістю файлів.
*   `/dev/sdb5`: Пристрій, що монтується.
*   `/media/5`: Точка монтування.

---

#### Крок 4: Перевірка результату

Щоб переконатися, що все примонтовано правильно, можна використати команду `mount` у поєднанні з `grep`.

**Команда:**
```bash
mount | grep sdb
```

**Очікуваний вивід:**
```
/dev/sdb1 on /media/1 type ext4 (ro,relatime)
/dev/sdb5 on /media/5 type ext4 (noatime,relatime)
```

**Пояснення виводу:**
*   Перший рядок показує, що `sdb1` примонтовано до `/media/1` з опцією `ro` (read-only).
*   Другий рядок показує, що `sdb5` примонтовано до `/media/5` з опцією `noatime`.

Тепер завдання виконано.

---

### 4. Налаштувати систему так, щоб ФС на нових розділах монтувалася до цих каталогів автоматично при старті системи (із звичайними опціями монтування).

Для перевірки результату, відмонтуйте новостворені файлові системи та виконайте послідовність команд: (хеш виду b7*****56) mount -av | grep -E '^/media/' | sort | md5sum | cut -c -9

Для автоматичного монтування файлових систем при старті системи використовується файл `/etc/fstab`.

---

#### Крок 1: Демонтування розділів

Якщо розділи все ще примонтовані з попереднього завдання, їх варто демонтувати, щоб уникнути конфліктів.

**Команда:**
```bash
sudo umount /media/1
sudo umount /media/5
```

---

#### Крок 2: Отримання UUID розділів

Надійніше використовувати унікальні ідентифікатори (UUID) замість імен `/dev/sdb1`.

**Команда:**
```bash
sudo blkid /dev/sdb1 /dev/sdb5
```

**Приклад виводу:**
```
/dev/sdb1: UUID="a1b2c3d4-e5f6-7890-abcd-1234567890ab" TYPE="ext4" PARTUUID="..."
/dev/sdb5: UUID="b2c3d4e5-f6a7-8901-bcde-2345678901bc" TYPE="ext4" PARTUUID="..."
```
Скопіюйте ваші `UUID` для наступного кроку.

---

#### Крок 3: Редагування файлу /etc/fstab

1.  Відкрийте файл у текстовому редакторі з правами `sudo`:
    ```bash
    sudo nano /etc/fstab
    ```
2.  Додайте наступні два рядки в кінець файлу, підставивши ваші реальні `UUID`:
    ```
    # Mount for /dev/sdb1 and /dev/sdb5
    UUID=<UUID_ДЛЯ_SDB1>  /media/1  ext4  ro,defaults  0  2
    UUID=<UUID_ДЛЯ_SDB5>  /media/5  ext4  noatime,defaults  0  2
    ```

**Пояснення полів:**
*   `UUID=<...>`: Ідентифікатор розділу.
*   `/media/1`: Точка монтування.
*   `ext4`: Тип файлової системи.
*   `defaults`: Стандартний набір опцій (читання/запис).
*   `0`: Не робити резервну копію (`dump`).
*   `2`: Порядок перевірки `fsck` (після кореневого розділу).

3.  Збережіть файл та закрийте редактор.

---

#### Крок 4: Перевірка конфігурації

Щоб перевірити `fstab` без перезавантаження, виконайте:
```bash
sudo mount -a
```
Якщо помилок немає, все налаштовано правильно. Фінальна перевірка:
```bash
mount | grep sdb
```
Вивід повинен показати, що розділи примонтовані з опцією `rw` (читання/запис).
