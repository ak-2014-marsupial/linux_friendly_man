Lab: Процеси
Blocks
Completion requirements
Знайомство з утілітами top, ps, pstree, lsof, fuser

Встановіть lsof

sudo yum install lsof

Запустіть команду top та знайдіть:

процес, який споживає найбільше ресурсів;

кількість вільної пам'яті;

завантаженість процесора (в цілому та кожного ядра окремо).

Виведіть повний список процесів командою ps aux. Знайдіть всі процеси пов'язані з SSH-сервером.

Виведіть дерево процесів за допомогою pstree.

Відкрийте 2 термінали:

Термінал 1
Термінал 2
5.1 Виконайте команду visudo	5.2 Знайдіть який файл редагує програма visudo

запуск та зупинка процесів
 	Термінал 1
 	Термінал 2
1	Запустіть процес ping localhost і потім його зупиніть (Ctrl + C)	 	--
2	Запустіть процес ping localhost і лише потім перемістіть його у фон (Ctrl + Z). Знайдіть процес у виводі ps по імені. Зверніть увагу на його статус.
 	--
3	Поверніть процес в інтерактивний режим (на передній план). Зверніть увагу на послідовність пакетів (icmp_seq). Повторіть декілька разів для наочності.	 	--
4.1	Запустіть процес ping localhost одразу в фоні з перенаправленням стандартного виводу в файл /tmp/ping.log (в режимі дозапису). Запам'ятайте PID процесу.	4.2	Виведіть вміст файлу /tmp/ping.log в інтерактивному режимі. Зверніть увагу на послідовність пакетів.
5.1	Зупиніть (SIGSTOP) процес по раніше записаному PID.	5.2	Перевірте вивід.
6.1	Відновіть (SIGCONT) процес по раніше записаному PID.	6.2	Перевірте вивід.
7.1	Запустіть top. Призупиніть процес (Ctrl+Z). Запам'ятайте PID призупиненого процесу top як PID1.	
--
7.2

Запустіть ще один top. Призупиніть процес (Ctrl+Z). Запам'ятайте PID призупиненого процесу top як PID2.
7.4
Надіслати сигнал 15 другому top (PID2). Перегляньте результат ps aux | grep top. Запам'ятайте PID останнього запущеного top як PID3
7.3
Запустіть ще один top.
7.5
Надіслати сигнал 15 останньому top (PID3). Подивіться результат в Терміналі 1 и ps aux | grep top
8.1	Поверніть top в інтерактивний режим (fg).	8.2
Подивіться результат ps aux | grep top 
9.2	 Подивіться результат, ps aux | grep top
9.1
Надіслати сигнал 9 першому top (PID1).
10.1
Запустіть pstree і подивіться від якого процесу відбулося відгалуження процесів ping.
10.2
Надіслати сигнал 9 батьківському процесу ping-ів.
 	 --	11
Запустіть pstree і подивитися хто став батьком процесу ping-ів.

Підказка

Команда top
Запустіть команду та прослідкуйте за змінами

Відсортуйте вивід списку процесів по кількості споживаної пам'яті

Відсортуйте вивід списку процесів по кількості часу роботи

Відсортуйте вивід списку процесів по величині використання CPU

Додайте стовпчик parent pid у вивід top

В Терміналі 2 запустіть процес ping localhost

Надішліть сигнал завершення процесу ping з команди top.

Підсказка


Команда ps
В терміналі 1 запустіть в фоновому режимі процес:

ping localhost >> /tmp/ping.log &
В терміналі 1 запустіть в фоновому режимі процес:

ping localhost >> /tmp/ping2.log &
В терміналі 1 запустіть перегляд файлу в інтерактивному режимі:

tail -f /tmp/ping.log
Вивести повний список процесів.

Знайти процес ping.

Вивести всі процеси, але тільки стовпці  PID, Parent PID, Command, CPU usage, Memory usage.

Відсортуйте вивід пункту 6 по використанню CPU за зростанням.

Відсортуйте вивід пункту 6 по використанню пам'яті за зменшенням.

Підказка

Команда pstree
Виведіть дерево процесів.

Виведіть дерево процесів з вказанням PID. Знайдіть процеси ping

Виведіть дерево процесів відсортованого за PID. Знайдіть процеси ping

Виведіть дерево процесів та підсвітіть процес pstree і його вітки.

Підказка

Файли та процеси
Виведіть повний список процесів, які працюють з файлами.

Знайдіть серед загального списку процеси ping які працюють з файлом /tmp/ping.log

Знайдіть всі процеси які працюють з файлом /tmp/ping.log

Підказка
