# Посібник з команд `zip` та `unzip`

`zip` — це утиліта для стиснення та архівації файлів, яка є надзвичайно популярною завдяки своїй крос-платформності. Архіви `.zip` можна легко створювати та відкривати як в Linux та macOS, так і у Windows.

На відміну від комбінації `tar` + `gzip`, утиліта `zip` виконує і архівацію (об'єднання файлів), і стиснення за одну дію.

### **Ключові концепції**

*   **Все в одному**: `zip` створює єдиний стиснений файл, що містить структуру директорій та файли.
*   **Крос-платформність**: Головна перевага. `.zip` є стандартом де-факто для обміну файлами між різними операційними системами.
*   **`unzip`**: Для розпакування, перегляду та тестування `.zip` архівів використовується окрема утиліта `unzip`.

#### **Базовий синтаксис**

```bash
# Створення або оновлення архіву
zip [опції] назва_архіву.zip файл1 файл2 директорія1

# Розпакування архіву
unzip [опції] назва_архіву.zip
```

---

### **Основні опції `zip` (Створення архівів)**

| Опція | Пояснення |
| :--- | :--- |
| **`-r`** | **(Recurse)**. **Найважливіша опція.** Рекурсивно включити в архів вміст вказаних директорій. Без неї в архів потрапить лише порожня директорія. |
| **`-q`** | **(Quiet)**. Тихий режим, не показувати процес архівації. |
| **`-u`** | **(Update)**. Оновити архів: додати нові файли або оновити ті, що змінилися. |
| **`-d`** | **(Delete)**. Видалити вказаний файл з існуючого `.zip` архіву. |
| **`-m`** | **(Move)**. Перемістити файли в архів (тобто видалити оригінали після успішної архівації). |
| **`-e`** | **(Encrypt)**. Зашифрувати архів паролем (його потрібно буде ввести в інтерактивному режимі). |
| **`-x [шаблон]`** | **(Exclude)**. Виключити файли, що відповідають вказаному шаблону. |
| **`-[0-9]`** | Встановити рівень стиснення. `-0` — без стиснення (лише об'єднати), `-9` — найкраще стиснення. |

### **Основні опції `unzip` (Розпакування архівів)**

| Опція | Пояснення |
| :--- | :--- |
| **`-l`** | **(List)**. Показати список файлів в архіві, не розпаковуючи його. |
| **`-t`** | **(Test)**. Перевірити цілісність архіву (чи не пошкоджений він). |
| **`-d [директорія]`** | **(Directory)**. Розпакувати вміст архіву у вказану директорію, а не в поточну. |
| **`-o`** | **(Overwrite)**. Перезаписувати існуючі файли без запиту на підтвердження. |
| **`-n`** | **(No overwrite)**. Ніколи не перезаписувати існуючі файли. |

---

### **Практичні приклади**

#### **Створення `.zip` архівів**

1.  **Запакувати кілька файлів в архів:**
    ```bash
    zip documents.zip report.docx presentation.pptx table.xlsx
    ```

2.  **Запакувати цілу директорію з усім її вмістом:**
    ```bash
    zip -r project_backup.zip ./my_project
    ```

3.  **Додати новий файл до існуючого архіву:**
    ```bash
    zip -u project_backup.zip ./new_file.txt
    ```

4.  **Створити архів, виключаючи непотрібні файли та папки:**
    ```bash
    zip -r source.zip . -x "*.log" -x "node_modules/*" -x ".git/*"
    ```

5.  **Створити зашифрований архів (пароль буде запрошено):**
    ```bash
    zip -er private.zip ./secret_files
    ```

#### **Розпакування `.zip` архівів**

6.  **Розпакувати архів у поточну директорію:**
    ```bash
    unzip project_backup.zip
    ```

7.  **Розпакувати архів у конкретну директорію:**
    ```bash
    unzip project_backup.zip -d /path/for/extraction
    ```

8.  **Розпакувати, примусово перезаписуючи всі файли:**
    ```bash
    unzip -o project_backup.zip
    ```

9.  **Розпакувати лише один конкретний файл з архіву:**
    ```bash
    unzip project_backup.zip my_project/config/settings.yaml
    ```

#### **Перегляд та тестування архівів**

10. **Подивитися вміст архіву без розпакування:**
    ```bash
    unzip -l project_backup.zip
    ```

11. **Перевірити, чи не пошкоджений архів:**
    ```bash
    unzip -t project_backup.zip
    ```

### **`zip` чи `tar.gz`?**

| Критерій | `zip` | `tar.gz` |
| :--- | :--- | :--- |
| **Сумісність** | **Відмінна**. Працює "з коробки" на Windows, macOS, Linux. Ідеально для обміну файлами. | **Стандарт для Unix/Linux**. На Windows може знадобитися додаткове ПЗ (7-Zip, WSL). |
| **Інструменти** | Один інструмент (`zip`/`unzip`) робить все. | Комбінація двох інструментів (`tar` для архівації, `gzip` для стиснення). |
| **Збереження прав** | Погано зберігає специфічні Unix-права доступу та інформацію про власника. | **Відмінно** зберігає всі атрибути файлової системи Unix. |
| **Коли використовувати** | Коли потрібно поділитися архівом з кимось, хто може використовувати Windows. | Для бекапів, розповсюдження програмного коду та роботи в середовищі Linux/macOS. |
