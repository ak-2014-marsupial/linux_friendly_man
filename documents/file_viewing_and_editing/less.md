# Посібник з використання утиліти `less`

`less` — це програма для перегляду текстових файлів (пейджер) у командному рядку. Вона дозволяє комфортно читати великі файли, гортаючи їх вперед і назад, а також виконувати пошук.

`less` є покращеною версією старої команди `more` (звідси жартівлива назва: "less is more" — "менше — це більше"). На відміну від `more`, `less` не потребує завантаження всього файлу в пам'ять перед початком роботи, що робить її дуже швидкою та ефективною для роботи з великими лог-файлами.

### **Ключова концепція**

Ви відкриваєте файл за допомогою `less`, і він показує вам перший екран вмісту. Далі ви використовуєте клавіатурні команди для навігації, пошуку та виходу. `less` також широко використовується для перегляду виводу інших команд через конвеєр (`|`).

#### **Базовий синтаксис**

```bash
# Перегляд файлу
less [опції] [назва_файлу]

# Перегляд виводу іншої команди
команда | less
```

---

### **Основні команди (виконуються всередині `less`)**

Після відкриття файлу ви можете використовувати наступні клавіші для керування.

#### **Навігація**

| Клавіша | Дія |
| :--- | :--- |
| **`j`** або **`↓`** | Прокрутити на один рядок вниз. |
| **`k`** або **`↑`** | Прокрутити на один рядок вгору. |
| **`f`** або **`Space`** | Прокрутити на один екран вперед. |
| **`b`** або **`PageUp`** | Прокрутити на один екран назад. |
| **`g`** або **`Home`** | Перейти на початок файлу. |
| **`G`** або **`End`** | Перейти в кінець файлу. |
| **`<число>g`** | Перейти на рядок з вказаним номером (наприклад, `250g`). |

#### **Пошук**

| Клавіша | Дія |
| :--- | :--- |
| **`/`** | Почати пошук **вперед**. Введіть текст (`/error`) і натисніть `Enter`. |
| **`?`** | Почати пошук **назад**. Введіть текст (`?warning`) і натисніть `Enter`. |
| **`n`** | Перейти до наступного знайденого збігу (в тому ж напрямку). |
| **`N`** | Перейти до попереднього знайденого збігу (в протилежному напрямку). |
| **`&`** | Фільтрація: показати **лише** рядки, що містять шаблон. Щоб скинути фільтр, введіть `&` без тексту. |

#### **Керування та вихід**

| Клавіша | Дія |
| :--- | :--- |
| **`q`** | **(Quit)**. Вийти з `less`. |
| **`=`** | Показати інформацію про поточну позицію у файлі (номер рядка, відсоток). |
| **`F`** | **(Follow)**. Режим стеження, аналогічний `tail -f`. `less` буде чекати на додавання нових даних у файл і відображати їх. Натисніть `Ctrl+C`, щоб вийти з режиму стеження і повернутися до звичайної навігації. |

---

### **Корисні опції командного рядка**

Ці опції вказуються при запуску `less`.

| Опція | Пояснення |
| :--- | :--- |
| **`-N`** | Показувати номери рядків. |
| **`-i`** | Ігнорувати регістр при пошуку. |
| **`-S`** | Не переносити довгі рядки (вони будуть обрізатися). Для перегляду довгого рядка використовуйте стрілки вліво/вправо. Дуже корисно для логів. |
| **`+F`** | Запустити `less` одразу в режимі стеження (`F`). |

---

### **Практичні приклади**

1.  **Просто переглянути файл:**
    ```bash
    less /var/log/syslog
    ```

2.  **Переглянути вивід команди `dmesg` (повідомлення ядра):**
    ```bash
    dmesg | less
    ```

3.  **Відкрити файл з нумерацією рядків:**
    ```bash
    less -N /etc/fstab
    ```

4.  **Знайти всі помилки у великому лог-файлі:**
    *   Відкрийте файл: `less server.log`
    *   Натисніть `/` і введіть `ERROR`, натисніть `Enter`.
    *   Використовуйте `n` для переходу між знайденими помилками.

5.  **Слідкувати за лог-файлом у реальному часі:**
    ```bash
    less +F /var/log/nginx/access.log
    ```
    *Коли нові запити надходять до веб-сервера, вони будуть з'являтися на екрані. Натисніть `Ctrl+C`, щоб зупинити стеження і почати гортати файл назад, щоб проаналізувати минулі події.* 

6.  **Переглянути CSV-файл з дуже довгими рядками:**
    ```bash
    less -S data.csv
    ```

### **`less` проти `cat` та `tail`**

*   **`cat`**: Виводить **весь** вміст файлу на екран одразу. Добре для маленьких файлів, але не для великих.
*   **`tail`**: Показує **кінець** файлу. `tail -f` використовується для стеження за файлами.
*   **`less`**: Інтерактивний переглядач для **будь-якої частини** файлу. `less` може робити все, що робить `cat` і `tail -f` (за допомогою `G` та `F`), але при цьому дозволяє вільно переміщатися по всьому файлу.
