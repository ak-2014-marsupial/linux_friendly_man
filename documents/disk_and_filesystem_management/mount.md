# mount & umount: Attach and Detach Filesystems

Команда `mount` використовується для приєднання (монтування) файлової системи, що знаходиться на певному пристрої (диску, розділі, образі), до існуючої структури директорій. Команда `umount` виконує зворотну дію — від'єднання файлової системи.

#### **Базовий синтаксис**

```bash
# Монтування
mount -t [тип] [опції] [пристрій] [точка_монтування]

# Демонтування
umount [точка_монтування | пристрій]
```

*   **`[пристрій]`**: Шлях до блокового пристрою (наприклад, `/dev/sdb1`, `UUID="..."`).
*   **`[точка_монтування]`**: Існуюча порожня директорія, до якої буде приєднано файлову систему.

### **Ключовий файл: `/etc/fstab`**

Файл `/etc/fstab` (file systems table) містить інформацію про диски та розділи, які система повинна автоматично монтувати під час завантаження. Редагування цього файлу дозволяє зробити монтування постійним.

---

### **Основні опції `mount`**

| Опція | Довгий варіант | Пояснення |
| :--- | :--- | :--- |
| **`-t`** | `--types` | Явно вказати тип файлової системи (наприклад, `ext4`, `ntfs-3g`). Зазвичай `mount` визначає тип автоматично. |
| **`-o`** | `--options` | Вказати специфічні опції монтування (див. таблицю нижче). |
| **`-a`** | `--all` | Примонтувати всі файлові системи, перелічені в `/etc/fstab` (окрім тих, що мають опцію `noauto`). |
| **`--bind`** | | Створити bind mount — примонтувати частину файлової системи в інше місце. |
| **`--loop`** | | Використовується для монтування файлів-образів (наприклад, `.iso`). |

### **Поширені опції монтування (для `-o`)**

| Опція | Пояснення |
| :--- | :--- |
| **`defaults`** | Використовувати набір опцій за замовчуванням: `rw`, `suid`, `dev`, `exec`, `auto`, `nouser`, `async`. |
| **`rw`** | (Read-Write) Монтувати файлову систему в режимі читання та запису. |
| **`ro`** | (Read-Only) Монтувати в режимі "тільки для читання". |
| **`auto`** | Дозволити монтування файлової системи при виконанні `mount -a`. |
| **`noauto`** | Заборонити автоматичне монтування (наприклад, для знімних носіїв). |
| **`user`** | Дозволити звичайним (не root) користувачам монтувати цей пристрій. |
| **`nouser`** | Дозволити монтування лише суперкористувачу (`root`). |
| **`exec`** | Дозволити виконання бінарних файлів на цій файловій системі. |
| **`noexec`** | Заборонити виконання бінарних файлів (підвищує безпеку). |

---

### **Приклади використання**

1.  **Вивести список усіх змонтованих файлових систем:**
    ```bash
    mount
    ```

2.  **Примонтувати розділ `/dev/sdb1` до директорії `/mnt/data`:**
    *Спочатку створюємо директорію:*
    ```bash
    sudo mkdir -p /mnt/data
    ```
    *Потім монтуємо:*
    ```bash
    sudo mount /dev/sdb1 /mnt/data
    ```

3.  **Примонтувати розділ NTFS (Windows) у режимі "тільки для читання":**
    ```bash
    sudo mount -t ntfs-3g -o ro /dev/sda2 /mnt/windows
    ```

4.  **Демонтувати файлову систему:**
    *За точкою монтування:*
    ```bash
    sudo umount /mnt/data
    ```
    *Або за пристроєм:*
    ```bash
    sudo umount /dev/sdb1
    ```

5.  **Примонтувати `.iso` образ диска:**
    ```bash
    sudo mount -o loop my_image.iso /mnt/iso_image
    ```

6.  **Перемонтувати файлову систему з новими опціями (наприклад, з `ro` на `rw`):**
    ```bash
    sudo mount -o remount,rw /mnt/data
    ```

7.  **Приклад запису в `/etc/fstab` для автоматичного монтування:**

    Цей рядок примонтує розділ з вказаним `UUID` до `/data` під час завантаження системи.

    ```
    # <file system> <mount point>   <type>  <options>       <dump>  <pass>
    UUID=1234-ABCD-5678   /data   ext4    defaults,noatime   0       2
    ```
    *Після додавання цього рядка можна виконати `sudo mount -a`, щоб система застосувала зміни без перезавантаження.*
