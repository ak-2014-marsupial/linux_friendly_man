# Посібник з утиліти `locate`

`locate` — це утиліта командного рядка в Unix-подібних системах, яка забезпечує надзвичайно швидкий пошук файлів та директорій за іменем.

### **Ключова концепція: Пошук по базі даних**

На відміну від команди `find`, яка шукає файли, скануючи файлову систему в реальному часі, `locate` працює інакше:

1.  Існує спеціальна база даних, яка містить список усіх файлів та шляхів у системі.
2.  Команда `locate` виконує пошук **лише в цій базі даних**, а не на жорсткому диску.

**Перевага**: Пошук по базі даних відбувається майже миттєво.
**Недолік**: Якщо база даних застаріла, `locate` не знайде нещодавно створені файли і може показувати файли, які вже були видалені.

### **Команда `updatedb`**

Для того, щоб `locate` працювала коректно, її база даних має бути актуальною. Для оновлення бази даних використовується команда `updatedb`.

```bash
sudo updatedb
```

*   Цю команду потрібно виконувати з правами суперкористувача (`sudo`), оскільки вона має просканувати всю файлову систему.
*   У більшості систем `updatedb` запускається автоматично за розкладом (зазвичай раз на добу) за допомогою `cron`.
*   Якщо ви щойно створили файл і хочете, щоб `locate` його знайшов, вам потрібно запустити `updatedb` вручну.

#### **Базовий синтаксис**

```bash
locate [опції] [шаблон_пошуку]
```

---

### **Основні опції**

| Опція | Пояснення |
| :--- | :--- |
| **`-i`** | **(Ignore case)**. Ігнорувати регістр символів при пошуку. |
| **`-b`** | **(Basename)**. Шукати збіг лише в базовому імені файлу, а не в усьому шляху. |
| **`-c`** | **(Count)**. Замість виводу шляхів до файлів, показати їхню кількість. |
| **`-r`** | **(Regexp)**. Інтерпретувати шаблон пошуку як регулярний вираз. |
| **`-S`** | **(Statistics)**. Показати статистику про базу даних `locate`. |

---

### **Практичні приклади**

1.  **Знайти всі файли, у шляху яких є `httpd.conf`:**
    ```bash
    locate httpd.conf
    ```
    *Результат може включати `/etc/httpd/conf/httpd.conf`, `/home/user/backup/httpd.conf.bak` тощо.* 

2.  **Знайти всі файли, ігноруючи регістр:**
    ```bash
    locate -i readme.md
    ```

3.  **Знайти файл, назва якого *точно* `httpd.conf`:**
    *   `\` перед шаблоном гарантує, що будуть знайдені лише файли з точною назвою, а не ті, що містять цю назву як частину.
    ```bash
    locate -b '\httpd.conf'
    ```

4.  **Порахувати, скільки файлів з розширенням `.conf` є в системі:**
    ```bash
    locate -c .conf
    ```

5.  **Знайти всі файли `.jpg` або `.png` за допомогою регулярного виразу:**
    ```bash
    locate -r '\.(jpe?g|png)$'
    ```

6.  **Оновити базу даних, щоб знайти щойно створений файл:**
    ```bash
    # Створюємо файл
    touch /tmp/my_new_file.txt
    # locate його ще не бачить
    locate my_new_file.txt
    # Оновлюємо базу
    sudo updatedb
    # Тепер знайде
    locate my_new_file.txt
    ```

### **`locate` чи `find`?**

| Критерій | `locate` | `find` |
| :--- | :--- | :--- |
| **Швидкість** | **Дуже швидкий.** | Повільніший, оскільки сканує диск. |
| **Актуальність** | Залежить від того, коли востаннє запускалась `updatedb`. | **Завжди актуальний.** Показує поточний стан файлової системи. |
| **Гнучкість** | Обмежена. Шукає лише за іменем/шляхом. | **Дуже гнучкий.** Може шукати за розміром, часом модифікації, власником, правами доступу тощо. |
| **Коли використовувати** | Для швидкого пошуку файлів за іменем, коли ви не знаєте точного розташування. | Для складних пошукових запитів, коли потрібна 100% точність, або коли потрібно знайти файли за їхніми атрибутами, а не лише за іменем. |
